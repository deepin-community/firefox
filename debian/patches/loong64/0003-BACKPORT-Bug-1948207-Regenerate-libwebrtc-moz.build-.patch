From 563b16356d79079d137e0e77cc9d6fde113e66df Mon Sep 17 00:00:00 2001
From: WANG Xuerui <xen0n@gentoo.org>
Date: Wed, 19 Feb 2025 16:32:41 +0000
Subject: [PATCH 3/6] BACKPORT: Bug 1948207 - Regenerate libwebrtc moz.build
 files. r=webrtc-reviewers,mjf

Regenerate moz.build files for the loong64 changes in gn_processor.py
to take effect.

Generation command:

    ./mach python build/gn_processor.py \
       dom/media/webrtc/third_party_build/gn-configs/webrtc.json

Differential Revision: https://phabricator.services.mozilla.com/D238170

[Henry Chen: Remove files not found in this version:
third_party/libwebrtc/api/audio/builtin_audio_processing_builder_gn/moz.build
third_party/libwebrtc/api/video/corruption_detection_filter_settings_gn/moz.build]

Signed-off-by: Henry Chen <henry.chen@oss.cipunited.com>
---
 .../resource_adaptation_api_gn/moz.build      |  4 +++
 .../libwebrtc/api/array_view_gn/moz.build     |  4 +++
 .../api/async_dns_resolver_gn/moz.build       |  4 +++
 .../api/audio/aec3_config_gn/moz.build        |  4 +++
 .../api/audio/aec3_factory_gn/moz.build       |  4 +++
 .../api/audio/audio_device_gn/moz.build       |  4 +++
 .../api/audio/audio_frame_api_gn/moz.build    |  4 +++
 .../audio/audio_frame_processor_gn/moz.build  |  4 +++
 .../api/audio/audio_mixer_api_gn/moz.build    |  4 +++
 .../api/audio/audio_processing_gn/moz.build   |  4 +++
 .../audio_processing_statistics_gn/moz.build  |  4 +++
 .../api/audio/echo_control_gn/moz.build       |  4 +++
 .../L16/audio_decoder_L16_gn/moz.build        |  4 +++
 .../L16/audio_encoder_L16_gn/moz.build        |  4 +++
 .../audio_codecs_api_gn/moz.build             |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../g711/audio_decoder_g711_gn/moz.build      |  4 +++
 .../g711/audio_encoder_g711_gn/moz.build      |  4 +++
 .../g722/audio_decoder_g722_gn/moz.build      |  4 +++
 .../audio_encoder_g722_config_gn/moz.build    |  4 +++
 .../g722/audio_encoder_g722_gn/moz.build      |  4 +++
 .../opus/audio_decoder_multiopus_gn/moz.build |  4 +++
 .../audio_decoder_opus_config_gn/moz.build    |  4 +++
 .../opus/audio_decoder_opus_gn/moz.build      |  4 +++
 .../opus/audio_encoder_multiopus_gn/moz.build |  4 +++
 .../audio_encoder_opus_config_gn/moz.build    |  4 +++
 .../opus/audio_encoder_opus_gn/moz.build      |  4 +++
 .../opus_audio_decoder_factory_gn/moz.build   |  4 +++
 .../api/audio_options_api_gn/moz.build        |  4 +++
 .../api/bitrate_allocation_gn/moz.build       |  4 +++
 .../libwebrtc/api/call_api_gn/moz.build       |  4 +++
 .../frame_decryptor_interface_gn/moz.build    |  4 +++
 .../frame_encryptor_interface_gn/moz.build    |  4 +++
 .../libwebrtc/api/crypto/options_gn/moz.build |  4 +++
 .../environment_factory_gn/moz.build          |  4 +++
 .../api/environment/environment_gn/moz.build  |  4 +++
 .../api/fec_controller_api_gn/moz.build       |  4 +++
 .../api/field_trials_registry_gn/moz.build    |  4 +++
 .../api/field_trials_view_gn/moz.build        |  4 +++
 .../frame_transformer_interface_gn/moz.build  |  4 +++
 .../libwebrtc/api/function_view_gn/moz.build  |  4 +++
 .../api/libjingle_logging_api_gn/moz.build    |  4 +++
 .../libjingle_peerconnection_api_gn/moz.build |  4 +++
 .../libwebrtc/api/location_gn/moz.build       |  4 +++
 .../api/make_ref_counted_gn/moz.build         |  4 +++
 .../api/media_stream_interface_gn/moz.build   |  4 +++
 .../api/metronome/metronome_gn/moz.build      |  4 +++
 .../moz.build                                 |  4 +++
 .../neteq/default_neteq_factory_gn/moz.build  |  4 +++
 .../api/neteq/neteq_api_gn/moz.build          |  4 +++
 .../neteq/neteq_controller_api_gn/moz.build   |  4 +++
 .../api/neteq/tick_timer_gn/moz.build         |  4 +++
 .../network_state_predictor_api_gn/moz.build  |  4 +++
 .../libwebrtc/api/priority_gn/moz.build       |  4 +++
 .../libwebrtc/api/ref_count_gn/moz.build      |  4 +++
 .../libwebrtc/api/refcountedbase_gn/moz.build |  4 +++
 .../libwebrtc/api/rtc_error_gn/moz.build      |  4 +++
 .../rtc_event_log/rtc_event_log_gn/moz.build  |  4 +++
 .../libwebrtc/api/rtp_headers_gn/moz.build    |  4 +++
 .../api/rtp_packet_info_gn/moz.build          |  4 +++
 .../api/rtp_packet_sender_gn/moz.build        |  4 +++
 .../libwebrtc/api/rtp_parameters_gn/moz.build |  4 +++
 .../api/rtp_sender_interface_gn/moz.build     |  4 +++
 .../moz.build                                 |  4 +++
 .../rtp_transceiver_direction_gn/moz.build    |  4 +++
 .../libwebrtc/api/scoped_refptr_gn/moz.build  |  4 +++
 .../api/sequence_checker_gn/moz.build         |  4 +++
 .../api/simulated_network_api_gn/moz.build    |  4 +++
 .../default_task_queue_factory_gn/moz.build   |  4 +++
 .../pending_task_safety_flag_gn/moz.build     |  4 +++
 .../api/task_queue/task_queue_gn/moz.build    |  4 +++
 .../moz.build                                 |  4 +++
 .../transport/bandwidth_usage_gn/moz.build    |  4 +++
 .../transport/bitrate_settings_gn/moz.build   |  4 +++
 .../datagram_transport_interface_gn/moz.build |  4 +++
 .../api/transport/ecn_marking_gn/moz.build    |  4 +++
 .../field_trial_based_config_gn/moz.build     |  4 +++
 .../api/transport/goog_cc_gn/moz.build        |  4 +++
 .../transport/network_control_gn/moz.build    |  4 +++
 .../rtp/dependency_descriptor_gn/moz.build    |  4 +++
 .../api/transport/rtp/rtp_source_gn/moz.build |  4 +++
 .../api/transport/stun_types_gn/moz.build     |  4 +++
 .../libwebrtc/api/transport_api_gn/moz.build  |  4 +++
 .../api/units/data_rate_gn/moz.build          |  4 +++
 .../api/units/data_size_gn/moz.build          |  4 +++
 .../api/units/frequency_gn/moz.build          |  4 +++
 .../api/units/time_delta_gn/moz.build         |  4 +++
 .../api/units/timestamp_gn/moz.build          |  4 +++
 .../moz.build                                 |  4 +++
 .../api/video/encoded_frame_gn/moz.build      |  4 +++
 .../api/video/encoded_image_gn/moz.build      |  4 +++
 .../api/video/frame_buffer_gn/moz.build       |  4 +++
 .../recordable_encoded_frame_gn/moz.build     |  4 +++
 .../api/video/render_resolution_gn/moz.build  |  4 +++
 .../api/video/resolution_gn/moz.build         |  4 +++
 .../api/video/video_adaptation_gn/moz.build   |  4 +++
 .../video_bitrate_allocation_gn/moz.build     |  4 +++
 .../moz.build                                 |  4 +++
 .../video_bitrate_allocator_gn/moz.build      |  4 +++
 .../video/video_codec_constants_gn/moz.build  |  4 +++
 .../api/video/video_frame_gn/moz.build        |  4 +++
 .../api/video/video_frame_i010_gn/moz.build   |  4 +++
 .../video/video_frame_metadata_gn/moz.build   |  4 +++
 .../api/video/video_frame_type_gn/moz.build   |  4 +++
 .../video_layers_allocation_gn/moz.build      |  4 +++
 .../api/video/video_rtp_headers_gn/moz.build  |  4 +++
 .../video/video_stream_encoder_gn/moz.build   |  4 +++
 .../bitstream_parser_api_gn/moz.build         |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../scalability_mode_gn/moz.build             |  4 +++
 .../video_codecs_api_gn/moz.build             |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../vp8_temporal_layers_factory_gn/moz.build  |  4 +++
 .../moz.build                                 |  4 +++
 .../libwebrtc/audio/audio_gn/moz.build        |  4 +++
 .../audio_frame_operations_gn/moz.build       |  4 +++
 .../resource_adaptation_gn/moz.build          |  4 +++
 .../call/audio_sender_interface_gn/moz.build  |  4 +++
 .../call/bitrate_allocator_gn/moz.build       |  4 +++
 .../call/bitrate_configurator_gn/moz.build    |  4 +++
 third_party/libwebrtc/call/call_gn/moz.build  |  4 +++
 .../call/call_interfaces_gn/moz.build         |  4 +++
 .../libwebrtc/call/payload_type_gn/moz.build  |  4 +++
 .../call/payload_type_picker_gn/moz.build     |  4 +++
 .../receive_stream_interface_gn/moz.build     |  4 +++
 .../call/rtp_interfaces_gn/moz.build          |  4 +++
 .../libwebrtc/call/rtp_receiver_gn/moz.build  |  4 +++
 .../libwebrtc/call/rtp_sender_gn/moz.build    |  4 +++
 .../libwebrtc/call/version_gn/moz.build       |  4 +++
 .../video_receive_stream_api_gn/moz.build     |  4 +++
 .../call/video_send_stream_api_gn/moz.build   |  4 +++
 .../common_audio_c_arm_asm_gn/moz.build       |  4 +++
 .../common_audio/common_audio_c_gn/moz.build  | 10 +++++++
 .../common_audio/common_audio_cc_gn/moz.build |  4 +++
 .../common_audio/common_audio_gn/moz.build    |  4 +++
 .../fir_filter_factory_gn/moz.build           |  4 +++
 .../common_audio/fir_filter_gn/moz.build      |  4 +++
 .../common_audio/sinc_resampler_gn/moz.build  |  4 +++
 .../ooura/fft_size_128_gn/moz.build           |  4 +++
 .../ooura/fft_size_256_gn/moz.build           |  4 +++
 .../spl_sqrt_floor_gn/moz.build               |  8 +++++
 .../common_video/common_video_gn/moz.build    |  4 +++
 .../moz.build                                 |  4 +++
 .../corruption_detection_message_gn/moz.build |  4 +++
 .../corruption_score_calculator_gn/moz.build  |  4 +++
 .../common_video/frame_counts_gn/moz.build    |  4 +++
 .../frame_instrumentation_data_gn/moz.build   |  4 +++
 .../generic_frame_descriptor_gn/moz.build     |  4 +++
 third_party/libwebrtc/dcsctp_gn/moz.build     |  4 +++
 .../registered_field_trials_gn/moz.build      |  4 +++
 .../logging/rtc_event_audio_gn/moz.build      |  4 +++
 .../logging/rtc_event_bwe_gn/moz.build        |  4 +++
 .../logging/rtc_event_field_gn/moz.build      |  4 +++
 .../rtc_event_log_parse_status_gn/moz.build   |  4 +++
 .../rtc_event_number_encodings_gn/moz.build   |  4 +++
 .../logging/rtc_event_pacing_gn/moz.build     |  4 +++
 .../logging/rtc_event_rtp_rtcp_gn/moz.build   |  4 +++
 .../logging/rtc_event_video_gn/moz.build      |  4 +++
 .../logging/rtc_stream_config_gn/moz.build    |  4 +++
 .../adapted_video_track_source_gn/moz.build   |  4 +++
 .../libwebrtc/media/audio_source_gn/moz.build |  4 +++
 .../libwebrtc/media/codec_gn/moz.build        |  4 +++
 .../media/media_channel_gn/moz.build          |  4 +++
 .../media/media_channel_impl_gn/moz.build     |  4 +++
 .../media/media_constants_gn/moz.build        |  4 +++
 .../libwebrtc/media/media_engine_gn/moz.build |  4 +++
 .../media/rid_description_gn/moz.build        |  4 +++
 .../media/rtc_audio_video_gn/moz.build        |  4 +++
 .../rtc_internal_video_codecs_gn/moz.build    |  4 +++
 .../media/rtc_media_base_gn/moz.build         |  4 +++
 .../media/rtc_media_config_gn/moz.build       |  4 +++
 .../libwebrtc/media/rtc_media_gn/moz.build    |  4 +++
 .../rtc_sdp_video_format_utils_gn/moz.build   |  4 +++
 .../moz.build                                 |  4 +++
 .../libwebrtc/media/rtp_utils_gn/moz.build    |  4 +++
 .../media/stream_params_gn/moz.build          |  4 +++
 .../media/video_adapter_gn/moz.build          |  4 +++
 .../media/video_broadcaster_gn/moz.build      |  4 +++
 .../libwebrtc/media/video_common_gn/moz.build |  4 +++
 .../media/video_source_base_gn/moz.build      |  4 +++
 .../async_audio_processing_gn/moz.build       |  4 +++
 .../audio_coding/audio_coding_gn/moz.build    |  4 +++
 .../audio_coding_module_typedefs_gn/moz.build |  4 +++
 .../audio_coding_opus_common_gn/moz.build     |  4 +++
 .../audio_encoder_cng_gn/moz.build            |  4 +++
 .../audio_network_adaptor_config_gn/moz.build |  4 +++
 .../audio_network_adaptor_gn/moz.build        |  4 +++
 .../modules/audio_coding/g711_c_gn/moz.build  |  4 +++
 .../modules/audio_coding/g711_gn/moz.build    |  4 +++
 .../modules/audio_coding/g722_c_gn/moz.build  |  4 +++
 .../modules/audio_coding/g722_gn/moz.build    |  4 +++
 .../audio_coding/isac_bwinfo_gn/moz.build     |  4 +++
 .../audio_coding/isac_vad_gn/moz.build        |  4 +++
 .../legacy_encoded_audio_frame_gn/moz.build   |  4 +++
 .../modules/audio_coding/neteq_gn/moz.build   |  4 +++
 .../audio_coding/pcm16b_c_gn/moz.build        |  4 +++
 .../modules/audio_coding/pcm16b_gn/moz.build  |  4 +++
 .../modules/audio_coding/red_gn/moz.build     |  4 +++
 .../audio_coding/webrtc_cng_gn/moz.build      |  4 +++
 .../webrtc_multiopus_gn/moz.build             |  4 +++
 .../audio_coding/webrtc_opus_gn/moz.build     |  4 +++
 .../webrtc_opus_wrapper_gn/moz.build          |  4 +++
 .../audio_device/audio_device_gn/moz.build    |  4 +++
 .../audio_device_impl_gn/moz.build            |  4 +++
 .../audio_frame_manipulator_gn/moz.build      |  4 +++
 .../audio_mixer/audio_mixer_impl_gn/moz.build |  4 +++
 .../aec3/adaptive_fir_filter_erl_gn/moz.build |  4 +++
 .../aec3/adaptive_fir_filter_gn/moz.build     |  4 +++
 .../aec3/aec3_common_gn/moz.build             |  4 +++
 .../aec3/aec3_fft_gn/moz.build                |  4 +++
 .../audio_processing/aec3/aec3_gn/moz.build   |  4 +++
 .../aec3/fft_data_gn/moz.build                |  4 +++
 .../aec3/matched_filter_gn/moz.build          |  4 +++
 .../aec3/render_buffer_gn/moz.build           |  4 +++
 .../aec3/vector_math_gn/moz.build             |  4 +++
 .../aec_dump/aec_dump_gn/moz.build            |  4 +++
 .../null_aec_dump_factory_gn/moz.build        |  4 +++
 .../aec_dump_interface_gn/moz.build           |  4 +++
 .../aecm/aecm_core_gn/moz.build               |  8 +++++
 .../audio_processing/agc/agc_gn/moz.build     |  4 +++
 .../agc/gain_control_interface_gn/moz.build   |  4 +++
 .../agc/legacy_agc_gn/moz.build               |  4 +++
 .../agc/level_estimation_gn/moz.build         |  4 +++
 .../moz.build                                 |  4 +++
 .../agc2/biquad_filter_gn/moz.build           |  4 +++
 .../agc2/clipping_predictor_gn/moz.build      |  4 +++
 .../audio_processing/agc2/common_gn/moz.build |  4 +++
 .../agc2/cpu_features_gn/moz.build            |  4 +++
 .../agc2/fixed_digital_gn/moz.build           |  4 +++
 .../agc2/gain_applier_gn/moz.build            |  4 +++
 .../agc2/gain_map_gn/moz.build                |  4 +++
 .../agc2/input_volume_controller_gn/moz.build |  4 +++
 .../input_volume_stats_reporter_gn/moz.build  |  4 +++
 .../agc2/noise_level_estimator_gn/moz.build   |  4 +++
 .../rnn_vad_auto_correlation_gn/moz.build     |  4 +++
 .../agc2/rnn_vad/rnn_vad_common_gn/moz.build  |  4 +++
 .../agc2/rnn_vad/rnn_vad_gn/moz.build         |  4 +++
 .../agc2/rnn_vad/rnn_vad_layers_gn/moz.build  |  4 +++
 .../rnn_vad/rnn_vad_lp_residual_gn/moz.build  |  4 +++
 .../agc2/rnn_vad/rnn_vad_pitch_gn/moz.build   |  4 +++
 .../rnn_vad/rnn_vad_ring_buffer_gn/moz.build  |  4 +++
 .../rnn_vad_sequence_buffer_gn/moz.build      |  4 +++
 .../rnn_vad_spectral_features_gn/moz.build    |  4 +++
 .../moz.build                                 |  4 +++
 .../agc2/rnn_vad/vector_math_gn/moz.build     |  4 +++
 .../agc2/saturation_protector_gn/moz.build    |  4 +++
 .../agc2/speech_level_estimator_gn/moz.build  |  4 +++
 .../agc2/vad_wrapper_gn/moz.build             |  4 +++
 .../audio_processing/apm_logging_gn/moz.build |  4 +++
 .../audio_buffer_gn/moz.build                 |  4 +++
 .../audio_frame_proxies_gn/moz.build          |  4 +++
 .../audio_frame_view_gn/moz.build             |  4 +++
 .../audio_processing_gn/moz.build             |  4 +++
 .../capture_levels_adjuster_gn/moz.build      |  4 +++
 .../gain_controller2_gn/moz.build             |  4 +++
 .../high_pass_filter_gn/moz.build             |  4 +++
 .../audio_processing/ns/ns_gn/moz.build       |  4 +++
 .../audio_processing/rms_level_gn/moz.build   |  4 +++
 .../cascaded_biquad_filter_gn/moz.build       |  4 +++
 .../legacy_delay_estimator_gn/moz.build       |  4 +++
 .../utility/pffft_wrapper_gn/moz.build        |  4 +++
 .../audio_processing/vad/vad_gn/moz.build     |  4 +++
 .../congestion_controller_gn/moz.build        |  4 +++
 .../goog_cc/alr_detector_gn/moz.build         |  4 +++
 .../goog_cc/delay_based_bwe_gn/moz.build      |  4 +++
 .../goog_cc/estimators_gn/moz.build           |  4 +++
 .../goog_cc/goog_cc_gn/moz.build              |  4 +++
 .../link_capacity_estimator_gn/moz.build      |  4 +++
 .../goog_cc/loss_based_bwe_v1_gn/moz.build    |  4 +++
 .../goog_cc/loss_based_bwe_v2_gn/moz.build    |  4 +++
 .../goog_cc/probe_controller_gn/moz.build     |  4 +++
 .../goog_cc/pushback_controller_gn/moz.build  |  4 +++
 .../goog_cc/send_side_bwe_gn/moz.build        |  4 +++
 .../rtp/control_handler_gn/moz.build          |  4 +++
 .../rtp/transport_feedback_gn/moz.build       |  4 +++
 .../desktop_capture_gn/moz.build              | 29 +++++++++++++++++++
 .../desktop_capture/primitives_gn/moz.build   |  5 ++++
 .../libwebrtc/modules/module_api_gn/moz.build |  4 +++
 .../modules/module_api_public_gn/moz.build    |  4 +++
 .../modules/module_fec_api_gn/moz.build       |  4 +++
 .../pacing/interval_budget_gn/moz.build       |  4 +++
 .../modules/pacing/pacing_gn/moz.build        |  4 +++
 .../moz.build                                 |  4 +++
 .../remote_bitrate_estimator_gn/moz.build     |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../modules/rtp_rtcp/leb128_gn/moz.build      |  4 +++
 .../rtp_rtcp/ntp_time_util_gn/moz.build       |  4 +++
 .../rtp_rtcp/rtp_rtcp_format_gn/moz.build     |  4 +++
 .../modules/rtp_rtcp/rtp_rtcp_gn/moz.build    |  4 +++
 .../rtp_rtcp/rtp_video_header_gn/moz.build    |  4 +++
 .../modules/third_party/fft/fft_gn/moz.build  |  4 +++
 .../third_party/g711/g711_3p_gn/moz.build     |  4 +++
 .../third_party/g722/g722_3p_gn/moz.build     |  4 +++
 .../modules/utility/utility_gn/moz.build      |  4 +++
 .../video_capture_internal_impl_gn/moz.build  |  4 +++
 .../video_capture_module_gn/moz.build         |  4 +++
 .../chain_diff_calculator_gn/moz.build        |  4 +++
 .../codec_globals_headers_gn/moz.build        |  4 +++
 .../codecs/av1/av1_svc_config_gn/moz.build    |  4 +++
 .../codecs/av1/dav1d_decoder_gn/moz.build     |  4 +++
 .../av1/libaom_av1_encoder_gn/moz.build       |  4 +++
 .../video_coding/encoded_frame_gn/moz.build   |  4 +++
 .../moz.build                                 |  4 +++
 .../video_coding/frame_helpers_gn/moz.build   |  4 +++
 .../h264_sprop_parameter_sets_gn/moz.build    |  4 +++
 .../h26x_packet_buffer_gn/moz.build           |  4 +++
 .../video_coding/nack_requester_gn/moz.build  |  4 +++
 .../video_coding/packet_buffer_gn/moz.build   |  4 +++
 .../svc/scalability_mode_util_gn/moz.build    |  4 +++
 .../svc/scalability_structures_gn/moz.build   |  4 +++
 .../scalable_video_controller_gn/moz.build    |  4 +++
 .../simulcast_to_svc_converter_gn/moz.build   |  4 +++
 .../svc/svc_rate_allocator_gn/moz.build       |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../timing/jitter_estimator_gn/moz.build      |  4 +++
 .../timing/rtt_filter_gn/moz.build            |  4 +++
 .../timestamp_extrapolator_gn/moz.build       |  4 +++
 .../timing/timing_module_gn/moz.build         |  4 +++
 .../video_codec_interface_gn/moz.build        |  4 +++
 .../video_coding/video_coding_gn/moz.build    |  4 +++
 .../video_coding_utility_gn/moz.build         |  4 +++
 .../video_coding/webrtc_h264_gn/moz.build     |  4 +++
 .../webrtc_libvpx_interface_gn/moz.build      |  4 +++
 .../video_coding/webrtc_vp8_gn/moz.build      |  4 +++
 .../webrtc_vp8_scalability_gn/moz.build       |  4 +++
 .../webrtc_vp8_temporal_layers_gn/moz.build   |  4 +++
 .../video_coding/webrtc_vp9_gn/moz.build      |  4 +++
 .../webrtc_vp9_helpers_gn/moz.build           |  4 +++
 third_party/libwebrtc/moz.build               |  7 +++++
 .../dcsctp/common/internal_types_gn/moz.build |  4 +++
 .../net/dcsctp/common/math_gn/moz.build       |  4 +++
 .../common/sequence_numbers_gn/moz.build      |  4 +++
 .../net/dcsctp/packet/bounded_io_gn/moz.build |  4 +++
 .../net/dcsctp/packet/chunk_gn/moz.build      |  4 +++
 .../packet/chunk_validators_gn/moz.build      |  4 +++
 .../net/dcsctp/packet/crc32c_gn/moz.build     |  4 +++
 .../net/dcsctp/packet/data_gn/moz.build       |  4 +++
 .../dcsctp/packet/error_cause_gn/moz.build    |  4 +++
 .../net/dcsctp/packet/parameter_gn/moz.build  |  4 +++
 .../dcsctp/packet/sctp_packet_gn/moz.build    |  4 +++
 .../net/dcsctp/packet/tlv_trait_gn/moz.build  |  4 +++
 .../net/dcsctp/public/factory_gn/moz.build    |  4 +++
 .../net/dcsctp/public/socket_gn/moz.build     |  4 +++
 .../net/dcsctp/public/types_gn/moz.build      |  4 +++
 .../net/dcsctp/rx/data_tracker_gn/moz.build   |  4 +++
 .../moz.build                                 |  4 +++
 .../dcsctp/rx/reassembly_queue_gn/moz.build   |  4 +++
 .../dcsctp/rx/reassembly_streams_gn/moz.build |  4 +++
 .../moz.build                                 |  4 +++
 .../net/dcsctp/socket/context_gn/moz.build    |  4 +++
 .../dcsctp/socket/dcsctp_socket_gn/moz.build  |  4 +++
 .../socket/heartbeat_handler_gn/moz.build     |  4 +++
 .../dcsctp/socket/packet_sender_gn/moz.build  |  4 +++
 .../socket/stream_reset_handler_gn/moz.build  |  4 +++
 .../transmission_control_block_gn/moz.build   |  4 +++
 .../timer/task_queue_timeout_gn/moz.build     |  4 +++
 .../net/dcsctp/timer/timer_gn/moz.build       |  4 +++
 .../dcsctp/tx/outstanding_data_gn/moz.build   |  4 +++
 .../retransmission_error_counter_gn/moz.build |  4 +++
 .../tx/retransmission_queue_gn/moz.build      |  4 +++
 .../tx/retransmission_timeout_gn/moz.build    |  4 +++
 .../net/dcsctp/tx/rr_send_queue_gn/moz.build  |  4 +++
 .../net/dcsctp/tx/send_queue_gn/moz.build     |  4 +++
 .../dcsctp/tx/stream_scheduler_gn/moz.build   |  4 +++
 .../rtc_base/async_dns_resolver_gn/moz.build  |  4 +++
 .../rtc_base/async_packet_socket_gn/moz.build |  4 +++
 .../audio_format_to_string_gn/moz.build       |  4 +++
 .../rtc_base/bit_buffer_gn/moz.build          |  4 +++
 .../rtc_base/bitrate_tracker_gn/moz.build     |  4 +++
 .../rtc_base/bitstream_reader_gn/moz.build    |  4 +++
 .../libwebrtc/rtc_base/buffer_gn/moz.build    |  4 +++
 .../rtc_base/byte_buffer_gn/moz.build         |  4 +++
 .../rtc_base/byte_order_gn/moz.build          |  4 +++
 .../libwebrtc/rtc_base/checks_gn/moz.build    |  4 +++
 .../rtc_base/compile_assert_c_gn/moz.build    |  4 +++
 .../flat_containers_internal_gn/moz.build     |  4 +++
 .../rtc_base/containers/flat_map_gn/moz.build |  4 +++
 .../rtc_base/containers/flat_set_gn/moz.build |  4 +++
 .../copy_on_write_buffer_gn/moz.build         |  4 +++
 .../rtc_base/criticalsection_gn/moz.build     |  4 +++
 .../rtc_base/divide_round_gn/moz.build        |  4 +++
 .../libwebrtc/rtc_base/dscp_gn/moz.build      |  4 +++
 .../rtc_base/event_tracer_gn/moz.build        |  4 +++
 .../experiments/alr_experiment_gn/moz.build   |  4 +++
 .../moz.build                                 |  4 +++
 .../encoder_info_settings_gn/moz.build        |  4 +++
 .../field_trial_parser_gn/moz.build           |  4 +++
 .../moz.build                                 |  4 +++
 .../min_video_bitrate_experiment_gn/moz.build |  4 +++
 .../moz.build                                 |  4 +++
 .../quality_scaler_settings_gn/moz.build      |  4 +++
 .../quality_scaling_experiment_gn/moz.build   |  4 +++
 .../rate_control_settings_gn/moz.build        |  4 +++
 .../moz.build                                 |  4 +++
 .../rtc_base/frequency_tracker_gn/moz.build   |  4 +++
 .../rtc_base/gtest_prod_gn/moz.build          |  4 +++
 .../histogram_percentile_counter_gn/moz.build |  4 +++
 .../rtc_base/ignore_wundef_gn/moz.build       |  4 +++
 .../rtc_base/ip_address_gn/moz.build          |  4 +++
 .../libwebrtc/rtc_base/logging_gn/moz.build   |  4 +++
 .../rtc_base/macromagic_gn/moz.build          |  4 +++
 .../memory/aligned_malloc_gn/moz.build        |  4 +++
 .../libwebrtc/rtc_base/mod_ops_gn/moz.build   |  4 +++
 .../rtc_base/moving_max_counter_gn/moz.build  |  4 +++
 .../rtc_base/net_helpers_gn/moz.build         |  4 +++
 .../rtc_base/network/ecn_marking_gn/moz.build |  4 +++
 .../rtc_base/network/sent_packet_gn/moz.build |  4 +++
 .../rtc_base/network_constants_gn/moz.build   |  4 +++
 .../rtc_base/network_route_gn/moz.build       |  4 +++
 .../rtc_base/null_socket_server_gn/moz.build  |  4 +++
 .../rtc_base/one_time_event_gn/moz.build      |  4 +++
 .../rtc_base/platform_thread_gn/moz.build     |  4 +++
 .../platform_thread_types_gn/moz.build        |  4 +++
 .../rtc_base/protobuf_utils_gn/moz.build      |  4 +++
 .../rtc_base/race_checker_gn/moz.build        |  4 +++
 .../libwebrtc/rtc_base/random_gn/moz.build    |  4 +++
 .../rtc_base/rate_limiter_gn/moz.build        |  4 +++
 .../rtc_base/rate_statistics_gn/moz.build     |  4 +++
 .../rtc_base/rate_tracker_gn/moz.build        |  4 +++
 .../libwebrtc/rtc_base/refcount_gn/moz.build  |  4 +++
 .../rtc_base/rolling_accumulator_gn/moz.build |  4 +++
 .../libwebrtc/rtc_base/rtc_event_gn/moz.build |  4 +++
 .../rtc_base/rtc_numerics_gn/moz.build        |  4 +++
 .../rtc_base/safe_compare_gn/moz.build        |  4 +++
 .../rtc_base/safe_conversions_gn/moz.build    |  4 +++
 .../rtc_base/safe_minmax_gn/moz.build         |  4 +++
 .../rtc_base/sample_counter_gn/moz.build      |  4 +++
 .../libwebrtc/rtc_base/sanitizer_gn/moz.build |  4 +++
 .../rtc_base/socket_address_gn/moz.build      |  4 +++
 .../rtc_base/socket_factory_gn/moz.build      |  4 +++
 .../libwebrtc/rtc_base/socket_gn/moz.build    |  4 +++
 .../rtc_base/socket_server_gn/moz.build       |  4 +++
 .../rtc_base/ssl_adapter_gn/moz.build         |  4 +++
 .../libwebrtc/rtc_base/ssl_gn/moz.build       |  4 +++
 .../rtc_base/stringutils_gn/moz.build         |  4 +++
 .../rtc_base/strong_alias_gn/moz.build        |  4 +++
 .../rtc_base/swap_queue_gn/moz.build          |  4 +++
 .../synchronization/mutex_gn/moz.build        |  4 +++
 .../sequence_checker_internal_gn/moz.build    |  4 +++
 .../synchronization/yield_gn/moz.build        |  4 +++
 .../synchronization/yield_policy_gn/moz.build |  4 +++
 .../rtc_base/system/arch_gn/moz.build         |  4 +++
 .../rtc_base/system/file_wrapper_gn/moz.build |  4 +++
 .../system/ignore_warnings_gn/moz.build       |  4 +++
 .../rtc_base/system/inline_gn/moz.build       |  4 +++
 .../system/no_unique_address_gn/moz.build     |  4 +++
 .../rtc_base/system/rtc_export_gn/moz.build   |  4 +++
 .../rtc_base/system/unused_gn/moz.build       |  4 +++
 .../moz.build                                 |  4 +++
 .../task_utils/repeating_task_gn/moz.build    |  4 +++
 .../third_party/base64/base64_gn/moz.build    |  4 +++
 .../third_party/sigslot/sigslot_gn/moz.build  |  4 +++
 .../libwebrtc/rtc_base/threading_gn/moz.build |  4 +++
 .../libwebrtc/rtc_base/timeutils_gn/moz.build |  4 +++
 .../rtc_base/type_traits_gn/moz.build         |  4 +++
 .../rtc_base/unique_id_generator_gn/moz.build |  4 +++
 .../rtc_base/units/unit_base_gn/moz.build     |  4 +++
 .../libwebrtc/rtc_base/weak_ptr_gn/moz.build  |  4 +++
 .../rtc_base/zero_memory_gn/moz.build         |  4 +++
 .../denormal_disabler_gn/moz.build            |  4 +++
 .../system_wrappers/field_trial_gn/moz.build  |  4 +++
 .../system_wrappers/metrics_gn/moz.build      |  4 +++
 .../system_wrappers_gn/moz.build              |  4 +++
 .../network/simulated_network_gn/moz.build    |  4 +++
 .../test/rtp_test_utils_gn/moz.build          |  4 +++
 .../crc32c/crc32c_arm64_gn/moz.build          |  5 ++++
 .../third_party/crc32c/crc32c_gn/moz.build    |  5 ++++
 .../crc32c_internal_headers_gn/moz.build      |  4 +++
 .../crc32c/crc32c_sse42_gn/moz.build          |  5 ++++
 .../third_party/dav1d/dav1d_gn/moz.build      |  4 +++
 .../third_party/libaom/libaom_gn/moz.build    |  4 +++
 .../third_party/libyuv/libyuv_gn/moz.build    |  4 +++
 .../third_party/pffft/pffft_gn/moz.build      |  5 ++++
 .../third_party/rnnoise/rnn_vad_gn/moz.build  |  4 +++
 .../adaptation/video_adaptation_gn/moz.build  |  4 +++
 .../video/config/encoder_config_gn/moz.build  |  4 +++
 .../video/config/streams_config_gn/moz.build  |  4 +++
 .../corruption_classifier_gn/moz.build        |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../generic_mapping_functions_gn/moz.build    |  4 +++
 .../halton_frame_sampler_gn/moz.build         |  4 +++
 .../halton_sequence_gn/moz.build              |  4 +++
 .../video/decode_synchronizer_gn/moz.build    |  4 +++
 .../video/frame_cadence_adapter_gn/moz.build  |  4 +++
 .../video/frame_decode_scheduler_gn/moz.build |  4 +++
 .../video/frame_decode_timing_gn/moz.build    |  4 +++
 .../video/frame_dumping_decoder_gn/moz.build  |  4 +++
 .../video/frame_dumping_encoder_gn/moz.build  |  4 +++
 .../render/incoming_video_stream_gn/moz.build |  4 +++
 .../render/video_render_frames_gn/moz.build   |  4 +++
 .../moz.build                                 |  4 +++
 .../unique_timestamp_counter_gn/moz.build     |  4 +++
 .../libwebrtc/video/video_gn/moz.build        |  4 +++
 .../moz.build                                 |  4 +++
 .../moz.build                                 |  4 +++
 .../video_stream_encoder_impl_gn/moz.build    |  4 +++
 .../moz.build                                 |  4 +++
 third_party/libwebrtc/webrtc_gn/moz.build     |  4 +++
 508 files changed, 2079 insertions(+)

diff --git a/third_party/libwebrtc/api/adaptation/resource_adaptation_api_gn/moz.build b/third_party/libwebrtc/api/adaptation/resource_adaptation_api_gn/moz.build
index 31e5e0cb14..655ef59cba 100644
--- a/third_party/libwebrtc/api/adaptation/resource_adaptation_api_gn/moz.build
+++ b/third_party/libwebrtc/api/adaptation/resource_adaptation_api_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/array_view_gn/moz.build b/third_party/libwebrtc/api/array_view_gn/moz.build
index 84878ba9f9..d4382d1df1 100644
--- a/third_party/libwebrtc/api/array_view_gn/moz.build
+++ b/third_party/libwebrtc/api/array_view_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/async_dns_resolver_gn/moz.build b/third_party/libwebrtc/api/async_dns_resolver_gn/moz.build
index f8804e882e..e935019626 100644
--- a/third_party/libwebrtc/api/async_dns_resolver_gn/moz.build
+++ b/third_party/libwebrtc/api/async_dns_resolver_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/aec3_config_gn/moz.build b/third_party/libwebrtc/api/audio/aec3_config_gn/moz.build
index f79ef5c75c..cfb3b6961c 100644
--- a/third_party/libwebrtc/api/audio/aec3_config_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/aec3_config_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/aec3_factory_gn/moz.build b/third_party/libwebrtc/api/audio/aec3_factory_gn/moz.build
index 4f58b0dfae..589d5a72ef 100644
--- a/third_party/libwebrtc/api/audio/aec3_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/aec3_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/audio_device_gn/moz.build b/third_party/libwebrtc/api/audio/audio_device_gn/moz.build
index acf6fe8822..a727e70ec9 100644
--- a/third_party/libwebrtc/api/audio/audio_device_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/audio_device_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/audio_frame_api_gn/moz.build b/third_party/libwebrtc/api/audio/audio_frame_api_gn/moz.build
index 5506b2b799..0cf70f6a0a 100644
--- a/third_party/libwebrtc/api/audio/audio_frame_api_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/audio_frame_api_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/audio_frame_processor_gn/moz.build b/third_party/libwebrtc/api/audio/audio_frame_processor_gn/moz.build
index 3b9b2a2dd8..d9e237b4c7 100644
--- a/third_party/libwebrtc/api/audio/audio_frame_processor_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/audio_frame_processor_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/audio_mixer_api_gn/moz.build b/third_party/libwebrtc/api/audio/audio_mixer_api_gn/moz.build
index 13f69cf283..9576084c2b 100644
--- a/third_party/libwebrtc/api/audio/audio_mixer_api_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/audio_mixer_api_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/audio_processing_gn/moz.build b/third_party/libwebrtc/api/audio/audio_processing_gn/moz.build
index c7c012a9aa..2e7d38d911 100644
--- a/third_party/libwebrtc/api/audio/audio_processing_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/audio_processing_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/audio_processing_statistics_gn/moz.build b/third_party/libwebrtc/api/audio/audio_processing_statistics_gn/moz.build
index 064122654c..0400bcf1bd 100644
--- a/third_party/libwebrtc/api/audio/audio_processing_statistics_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/audio_processing_statistics_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio/echo_control_gn/moz.build b/third_party/libwebrtc/api/audio/echo_control_gn/moz.build
index 67e90d93f3..904a224b5a 100644
--- a/third_party/libwebrtc/api/audio/echo_control_gn/moz.build
+++ b/third_party/libwebrtc/api/audio/echo_control_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build
index f639c8e6aa..ae4047c15b 100644
--- a/third_party/libwebrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/L16/audio_decoder_L16_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build
index 38eb1e4389..9007bea06a 100644
--- a/third_party/libwebrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/L16/audio_encoder_L16_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/audio_codecs_api_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/audio_codecs_api_gn/moz.build
index 3b733727d4..1de066daa0 100644
--- a/third_party/libwebrtc/api/audio_codecs/audio_codecs_api_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/audio_codecs_api_gn/moz.build
@@ -150,6 +150,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build
index 23378fd831..be74a5a11b 100644
--- a/third_party/libwebrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/builtin_audio_decoder_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build
index f58bac277b..f6a0d16b0b 100644
--- a/third_party/libwebrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/builtin_audio_encoder_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build
index cb227d9c44..58fffb2e22 100644
--- a/third_party/libwebrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/g711/audio_decoder_g711_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build
index d25ce57888..7f12ebe49f 100644
--- a/third_party/libwebrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/g711/audio_encoder_g711_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build
index 70a5175c80..e808e42982 100644
--- a/third_party/libwebrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/g722/audio_decoder_g722_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build
index bc2f347b5d..5e4da695b9 100644
--- a/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_config_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build
index 593c04d9bd..1ea3e2809c 100644
--- a/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/g722/audio_encoder_g722_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_multiopus_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_multiopus_gn/moz.build
index 073323eeed..37f380708a 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_multiopus_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_multiopus_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_config_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_config_gn/moz.build
index a00c902136..38ae3cb77d 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_config_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_config_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build
index e118829b38..7c49699919 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus/audio_decoder_opus_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_multiopus_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_multiopus_gn/moz.build
index 103d5ffcfe..089a1a45e3 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_multiopus_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_multiopus_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build
index de3909cda9..a51951b06a 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_config_gn/moz.build
@@ -141,6 +141,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build
index 2579cbe7f8..8b4a7d7371 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus/audio_encoder_opus_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_codecs/opus_audio_decoder_factory_gn/moz.build b/third_party/libwebrtc/api/audio_codecs/opus_audio_decoder_factory_gn/moz.build
index 6a00bc0eac..394c4633e5 100644
--- a/third_party/libwebrtc/api/audio_codecs/opus_audio_decoder_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_codecs/opus_audio_decoder_factory_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/audio_options_api_gn/moz.build b/third_party/libwebrtc/api/audio_options_api_gn/moz.build
index 1ef9e1e010..f3d9e0c5c6 100644
--- a/third_party/libwebrtc/api/audio_options_api_gn/moz.build
+++ b/third_party/libwebrtc/api/audio_options_api_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/bitrate_allocation_gn/moz.build b/third_party/libwebrtc/api/bitrate_allocation_gn/moz.build
index 1ed7f3f9a6..5afb81f933 100644
--- a/third_party/libwebrtc/api/bitrate_allocation_gn/moz.build
+++ b/third_party/libwebrtc/api/bitrate_allocation_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/call_api_gn/moz.build b/third_party/libwebrtc/api/call_api_gn/moz.build
index 6489b5f507..87ce5be77f 100644
--- a/third_party/libwebrtc/api/call_api_gn/moz.build
+++ b/third_party/libwebrtc/api/call_api_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/crypto/frame_decryptor_interface_gn/moz.build b/third_party/libwebrtc/api/crypto/frame_decryptor_interface_gn/moz.build
index d274248ca9..f04389690b 100644
--- a/third_party/libwebrtc/api/crypto/frame_decryptor_interface_gn/moz.build
+++ b/third_party/libwebrtc/api/crypto/frame_decryptor_interface_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/crypto/frame_encryptor_interface_gn/moz.build b/third_party/libwebrtc/api/crypto/frame_encryptor_interface_gn/moz.build
index 818fa9a815..4085a759f6 100644
--- a/third_party/libwebrtc/api/crypto/frame_encryptor_interface_gn/moz.build
+++ b/third_party/libwebrtc/api/crypto/frame_encryptor_interface_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/crypto/options_gn/moz.build b/third_party/libwebrtc/api/crypto/options_gn/moz.build
index 7f5d4ff687..924a8c8bad 100644
--- a/third_party/libwebrtc/api/crypto/options_gn/moz.build
+++ b/third_party/libwebrtc/api/crypto/options_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/environment/environment_factory_gn/moz.build b/third_party/libwebrtc/api/environment/environment_factory_gn/moz.build
index b3fb7ffec1..76d8ff92e9 100644
--- a/third_party/libwebrtc/api/environment/environment_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/environment/environment_factory_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/environment/environment_gn/moz.build b/third_party/libwebrtc/api/environment/environment_gn/moz.build
index d2dfe8d7a6..0bb75b315e 100644
--- a/third_party/libwebrtc/api/environment/environment_gn/moz.build
+++ b/third_party/libwebrtc/api/environment/environment_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/fec_controller_api_gn/moz.build b/third_party/libwebrtc/api/fec_controller_api_gn/moz.build
index 16d29fad07..fef918e832 100644
--- a/third_party/libwebrtc/api/fec_controller_api_gn/moz.build
+++ b/third_party/libwebrtc/api/fec_controller_api_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/field_trials_registry_gn/moz.build b/third_party/libwebrtc/api/field_trials_registry_gn/moz.build
index 3248705145..8e25c5f0af 100644
--- a/third_party/libwebrtc/api/field_trials_registry_gn/moz.build
+++ b/third_party/libwebrtc/api/field_trials_registry_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/field_trials_view_gn/moz.build b/third_party/libwebrtc/api/field_trials_view_gn/moz.build
index 550bffb584..3b251e4427 100644
--- a/third_party/libwebrtc/api/field_trials_view_gn/moz.build
+++ b/third_party/libwebrtc/api/field_trials_view_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/frame_transformer_interface_gn/moz.build b/third_party/libwebrtc/api/frame_transformer_interface_gn/moz.build
index e4dae03fd4..f4f1de37c7 100644
--- a/third_party/libwebrtc/api/frame_transformer_interface_gn/moz.build
+++ b/third_party/libwebrtc/api/frame_transformer_interface_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/function_view_gn/moz.build b/third_party/libwebrtc/api/function_view_gn/moz.build
index 26753bb2ae..ead33463bf 100644
--- a/third_party/libwebrtc/api/function_view_gn/moz.build
+++ b/third_party/libwebrtc/api/function_view_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/libjingle_logging_api_gn/moz.build b/third_party/libwebrtc/api/libjingle_logging_api_gn/moz.build
index ce0844e03a..d7611c9ede 100644
--- a/third_party/libwebrtc/api/libjingle_logging_api_gn/moz.build
+++ b/third_party/libwebrtc/api/libjingle_logging_api_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/libjingle_peerconnection_api_gn/moz.build b/third_party/libwebrtc/api/libjingle_peerconnection_api_gn/moz.build
index 6b19999e8b..8b5a49c259 100644
--- a/third_party/libwebrtc/api/libjingle_peerconnection_api_gn/moz.build
+++ b/third_party/libwebrtc/api/libjingle_peerconnection_api_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/location_gn/moz.build b/third_party/libwebrtc/api/location_gn/moz.build
index 591dac5006..cae29c6f01 100644
--- a/third_party/libwebrtc/api/location_gn/moz.build
+++ b/third_party/libwebrtc/api/location_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/make_ref_counted_gn/moz.build b/third_party/libwebrtc/api/make_ref_counted_gn/moz.build
index 8494cfdb2d..e7975c5297 100644
--- a/third_party/libwebrtc/api/make_ref_counted_gn/moz.build
+++ b/third_party/libwebrtc/api/make_ref_counted_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/media_stream_interface_gn/moz.build b/third_party/libwebrtc/api/media_stream_interface_gn/moz.build
index ee75970953..5b64e7f79a 100644
--- a/third_party/libwebrtc/api/media_stream_interface_gn/moz.build
+++ b/third_party/libwebrtc/api/media_stream_interface_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/metronome/metronome_gn/moz.build b/third_party/libwebrtc/api/metronome/metronome_gn/moz.build
index dc91d8587b..dcd6071481 100644
--- a/third_party/libwebrtc/api/metronome/metronome_gn/moz.build
+++ b/third_party/libwebrtc/api/metronome/metronome_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/neteq/default_neteq_controller_factory_gn/moz.build b/third_party/libwebrtc/api/neteq/default_neteq_controller_factory_gn/moz.build
index 24dfe847b7..ebb57e97af 100644
--- a/third_party/libwebrtc/api/neteq/default_neteq_controller_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/neteq/default_neteq_controller_factory_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/neteq/default_neteq_factory_gn/moz.build b/third_party/libwebrtc/api/neteq/default_neteq_factory_gn/moz.build
index 1a0743f608..96f2fffa5e 100644
--- a/third_party/libwebrtc/api/neteq/default_neteq_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/neteq/default_neteq_factory_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/neteq/neteq_api_gn/moz.build b/third_party/libwebrtc/api/neteq/neteq_api_gn/moz.build
index bf109c0750..e619d4fb5a 100644
--- a/third_party/libwebrtc/api/neteq/neteq_api_gn/moz.build
+++ b/third_party/libwebrtc/api/neteq/neteq_api_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/neteq/neteq_controller_api_gn/moz.build b/third_party/libwebrtc/api/neteq/neteq_controller_api_gn/moz.build
index 6c9c7e83a2..9baed43dc5 100644
--- a/third_party/libwebrtc/api/neteq/neteq_controller_api_gn/moz.build
+++ b/third_party/libwebrtc/api/neteq/neteq_controller_api_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/neteq/tick_timer_gn/moz.build b/third_party/libwebrtc/api/neteq/tick_timer_gn/moz.build
index ec476535c8..a0ca1dd76f 100644
--- a/third_party/libwebrtc/api/neteq/tick_timer_gn/moz.build
+++ b/third_party/libwebrtc/api/neteq/tick_timer_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/network_state_predictor_api_gn/moz.build b/third_party/libwebrtc/api/network_state_predictor_api_gn/moz.build
index ef3abcb4e4..348bf16eec 100644
--- a/third_party/libwebrtc/api/network_state_predictor_api_gn/moz.build
+++ b/third_party/libwebrtc/api/network_state_predictor_api_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/priority_gn/moz.build b/third_party/libwebrtc/api/priority_gn/moz.build
index 6dbab628c8..bae63c2cb1 100644
--- a/third_party/libwebrtc/api/priority_gn/moz.build
+++ b/third_party/libwebrtc/api/priority_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/ref_count_gn/moz.build b/third_party/libwebrtc/api/ref_count_gn/moz.build
index 03722c2f11..02086e698d 100644
--- a/third_party/libwebrtc/api/ref_count_gn/moz.build
+++ b/third_party/libwebrtc/api/ref_count_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/refcountedbase_gn/moz.build b/third_party/libwebrtc/api/refcountedbase_gn/moz.build
index 393d437bf6..52fcc29902 100644
--- a/third_party/libwebrtc/api/refcountedbase_gn/moz.build
+++ b/third_party/libwebrtc/api/refcountedbase_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtc_error_gn/moz.build b/third_party/libwebrtc/api/rtc_error_gn/moz.build
index 76c3a2dcfa..236d348fb3 100644
--- a/third_party/libwebrtc/api/rtc_error_gn/moz.build
+++ b/third_party/libwebrtc/api/rtc_error_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtc_event_log/rtc_event_log_gn/moz.build b/third_party/libwebrtc/api/rtc_event_log/rtc_event_log_gn/moz.build
index f7f70d5d31..711bf9c77e 100644
--- a/third_party/libwebrtc/api/rtc_event_log/rtc_event_log_gn/moz.build
+++ b/third_party/libwebrtc/api/rtc_event_log/rtc_event_log_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_headers_gn/moz.build b/third_party/libwebrtc/api/rtp_headers_gn/moz.build
index 030007c629..41c4e99db5 100644
--- a/third_party/libwebrtc/api/rtp_headers_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_headers_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_packet_info_gn/moz.build b/third_party/libwebrtc/api/rtp_packet_info_gn/moz.build
index 72e4029ec0..9c1735f237 100644
--- a/third_party/libwebrtc/api/rtp_packet_info_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_packet_info_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_packet_sender_gn/moz.build b/third_party/libwebrtc/api/rtp_packet_sender_gn/moz.build
index 61c7b71eb0..0496394c6b 100644
--- a/third_party/libwebrtc/api/rtp_packet_sender_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_packet_sender_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_parameters_gn/moz.build b/third_party/libwebrtc/api/rtp_parameters_gn/moz.build
index d41a3d480f..0855362776 100644
--- a/third_party/libwebrtc/api/rtp_parameters_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_parameters_gn/moz.build
@@ -141,6 +141,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_sender_interface_gn/moz.build b/third_party/libwebrtc/api/rtp_sender_interface_gn/moz.build
index 12d98cc469..3b12029bdc 100644
--- a/third_party/libwebrtc/api/rtp_sender_interface_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_sender_interface_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_sender_setparameters_callback_gn/moz.build b/third_party/libwebrtc/api/rtp_sender_setparameters_callback_gn/moz.build
index 890cfb7df0..cea07d6922 100644
--- a/third_party/libwebrtc/api/rtp_sender_setparameters_callback_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_sender_setparameters_callback_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/rtp_transceiver_direction_gn/moz.build b/third_party/libwebrtc/api/rtp_transceiver_direction_gn/moz.build
index 412223b12c..b80b352927 100644
--- a/third_party/libwebrtc/api/rtp_transceiver_direction_gn/moz.build
+++ b/third_party/libwebrtc/api/rtp_transceiver_direction_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/scoped_refptr_gn/moz.build b/third_party/libwebrtc/api/scoped_refptr_gn/moz.build
index 8b738f7706..562cb4ae55 100644
--- a/third_party/libwebrtc/api/scoped_refptr_gn/moz.build
+++ b/third_party/libwebrtc/api/scoped_refptr_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/sequence_checker_gn/moz.build b/third_party/libwebrtc/api/sequence_checker_gn/moz.build
index 33287277eb..191ccae1f9 100644
--- a/third_party/libwebrtc/api/sequence_checker_gn/moz.build
+++ b/third_party/libwebrtc/api/sequence_checker_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/simulated_network_api_gn/moz.build b/third_party/libwebrtc/api/simulated_network_api_gn/moz.build
index 13cd4ab480..558f8ca50f 100644
--- a/third_party/libwebrtc/api/simulated_network_api_gn/moz.build
+++ b/third_party/libwebrtc/api/simulated_network_api_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/task_queue/default_task_queue_factory_gn/moz.build b/third_party/libwebrtc/api/task_queue/default_task_queue_factory_gn/moz.build
index a24351f6f8..6a4453ac73 100644
--- a/third_party/libwebrtc/api/task_queue/default_task_queue_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/task_queue/default_task_queue_factory_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/task_queue/pending_task_safety_flag_gn/moz.build b/third_party/libwebrtc/api/task_queue/pending_task_safety_flag_gn/moz.build
index 203b904ca1..beda60da91 100644
--- a/third_party/libwebrtc/api/task_queue/pending_task_safety_flag_gn/moz.build
+++ b/third_party/libwebrtc/api/task_queue/pending_task_safety_flag_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/task_queue/task_queue_gn/moz.build b/third_party/libwebrtc/api/task_queue/task_queue_gn/moz.build
index 4bfa92ca5b..3ea55a8b76 100644
--- a/third_party/libwebrtc/api/task_queue/task_queue_gn/moz.build
+++ b/third_party/libwebrtc/api/task_queue/task_queue_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/bandwidth_estimation_settings_gn/moz.build b/third_party/libwebrtc/api/transport/bandwidth_estimation_settings_gn/moz.build
index 37a5138463..63460f387b 100644
--- a/third_party/libwebrtc/api/transport/bandwidth_estimation_settings_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/bandwidth_estimation_settings_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/bandwidth_usage_gn/moz.build b/third_party/libwebrtc/api/transport/bandwidth_usage_gn/moz.build
index 5371775e5c..7e80ecfe46 100644
--- a/third_party/libwebrtc/api/transport/bandwidth_usage_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/bandwidth_usage_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/bitrate_settings_gn/moz.build b/third_party/libwebrtc/api/transport/bitrate_settings_gn/moz.build
index 546ef3df9c..25a3c74183 100644
--- a/third_party/libwebrtc/api/transport/bitrate_settings_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/bitrate_settings_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/datagram_transport_interface_gn/moz.build b/third_party/libwebrtc/api/transport/datagram_transport_interface_gn/moz.build
index fd68a016d9..b11138679c 100644
--- a/third_party/libwebrtc/api/transport/datagram_transport_interface_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/datagram_transport_interface_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/ecn_marking_gn/moz.build b/third_party/libwebrtc/api/transport/ecn_marking_gn/moz.build
index e143fc3b34..6c4cd224b9 100644
--- a/third_party/libwebrtc/api/transport/ecn_marking_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/ecn_marking_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/field_trial_based_config_gn/moz.build b/third_party/libwebrtc/api/transport/field_trial_based_config_gn/moz.build
index c6ea6555bd..c47158aa87 100644
--- a/third_party/libwebrtc/api/transport/field_trial_based_config_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/field_trial_based_config_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/goog_cc_gn/moz.build b/third_party/libwebrtc/api/transport/goog_cc_gn/moz.build
index 4e5cc4043e..89be00e883 100644
--- a/third_party/libwebrtc/api/transport/goog_cc_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/goog_cc_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/network_control_gn/moz.build b/third_party/libwebrtc/api/transport/network_control_gn/moz.build
index 405677c03c..7ae9e4b546 100644
--- a/third_party/libwebrtc/api/transport/network_control_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/network_control_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/rtp/dependency_descriptor_gn/moz.build b/third_party/libwebrtc/api/transport/rtp/dependency_descriptor_gn/moz.build
index 571df664b6..fa5f3fb195 100644
--- a/third_party/libwebrtc/api/transport/rtp/dependency_descriptor_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/rtp/dependency_descriptor_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/rtp/rtp_source_gn/moz.build b/third_party/libwebrtc/api/transport/rtp/rtp_source_gn/moz.build
index bd462e15c4..34b4824b5f 100644
--- a/third_party/libwebrtc/api/transport/rtp/rtp_source_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/rtp/rtp_source_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport/stun_types_gn/moz.build b/third_party/libwebrtc/api/transport/stun_types_gn/moz.build
index 236799789f..865d9643a4 100644
--- a/third_party/libwebrtc/api/transport/stun_types_gn/moz.build
+++ b/third_party/libwebrtc/api/transport/stun_types_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/transport_api_gn/moz.build b/third_party/libwebrtc/api/transport_api_gn/moz.build
index fd6c477032..7f3192c2bc 100644
--- a/third_party/libwebrtc/api/transport_api_gn/moz.build
+++ b/third_party/libwebrtc/api/transport_api_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/units/data_rate_gn/moz.build b/third_party/libwebrtc/api/units/data_rate_gn/moz.build
index 41006145b9..720807906a 100644
--- a/third_party/libwebrtc/api/units/data_rate_gn/moz.build
+++ b/third_party/libwebrtc/api/units/data_rate_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/units/data_size_gn/moz.build b/third_party/libwebrtc/api/units/data_size_gn/moz.build
index 1603431085..3c005ff583 100644
--- a/third_party/libwebrtc/api/units/data_size_gn/moz.build
+++ b/third_party/libwebrtc/api/units/data_size_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/units/frequency_gn/moz.build b/third_party/libwebrtc/api/units/frequency_gn/moz.build
index bc600cc4e8..7e1b55def1 100644
--- a/third_party/libwebrtc/api/units/frequency_gn/moz.build
+++ b/third_party/libwebrtc/api/units/frequency_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/units/time_delta_gn/moz.build b/third_party/libwebrtc/api/units/time_delta_gn/moz.build
index 1fc089290f..aebee68119 100644
--- a/third_party/libwebrtc/api/units/time_delta_gn/moz.build
+++ b/third_party/libwebrtc/api/units/time_delta_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/units/timestamp_gn/moz.build b/third_party/libwebrtc/api/units/timestamp_gn/moz.build
index e16a155861..d80b973f5e 100644
--- a/third_party/libwebrtc/api/units/timestamp_gn/moz.build
+++ b/third_party/libwebrtc/api/units/timestamp_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/builtin_video_bitrate_allocator_factory_gn/moz.build b/third_party/libwebrtc/api/video/builtin_video_bitrate_allocator_factory_gn/moz.build
index f87e82de30..a4ec365080 100644
--- a/third_party/libwebrtc/api/video/builtin_video_bitrate_allocator_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/video/builtin_video_bitrate_allocator_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/encoded_frame_gn/moz.build b/third_party/libwebrtc/api/video/encoded_frame_gn/moz.build
index 5ed6278b5d..1727272f7e 100644
--- a/third_party/libwebrtc/api/video/encoded_frame_gn/moz.build
+++ b/third_party/libwebrtc/api/video/encoded_frame_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/encoded_image_gn/moz.build b/third_party/libwebrtc/api/video/encoded_image_gn/moz.build
index ff946d65fd..52b2c556a9 100644
--- a/third_party/libwebrtc/api/video/encoded_image_gn/moz.build
+++ b/third_party/libwebrtc/api/video/encoded_image_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/frame_buffer_gn/moz.build b/third_party/libwebrtc/api/video/frame_buffer_gn/moz.build
index 79bdd813a0..384cb719cb 100644
--- a/third_party/libwebrtc/api/video/frame_buffer_gn/moz.build
+++ b/third_party/libwebrtc/api/video/frame_buffer_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/recordable_encoded_frame_gn/moz.build b/third_party/libwebrtc/api/video/recordable_encoded_frame_gn/moz.build
index 8541f8940e..b0f0ce6393 100644
--- a/third_party/libwebrtc/api/video/recordable_encoded_frame_gn/moz.build
+++ b/third_party/libwebrtc/api/video/recordable_encoded_frame_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/render_resolution_gn/moz.build b/third_party/libwebrtc/api/video/render_resolution_gn/moz.build
index 3c6d24b1af..0af4d7d362 100644
--- a/third_party/libwebrtc/api/video/render_resolution_gn/moz.build
+++ b/third_party/libwebrtc/api/video/render_resolution_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/resolution_gn/moz.build b/third_party/libwebrtc/api/video/resolution_gn/moz.build
index cc886ec4db..74a183e252 100644
--- a/third_party/libwebrtc/api/video/resolution_gn/moz.build
+++ b/third_party/libwebrtc/api/video/resolution_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_adaptation_gn/moz.build b/third_party/libwebrtc/api/video/video_adaptation_gn/moz.build
index 2865b09d71..cf8c377621 100644
--- a/third_party/libwebrtc/api/video/video_adaptation_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_adaptation_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_bitrate_allocation_gn/moz.build b/third_party/libwebrtc/api/video/video_bitrate_allocation_gn/moz.build
index 1c89b66d81..6f16ff5da3 100644
--- a/third_party/libwebrtc/api/video/video_bitrate_allocation_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_bitrate_allocation_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_bitrate_allocator_factory_gn/moz.build b/third_party/libwebrtc/api/video/video_bitrate_allocator_factory_gn/moz.build
index ba63c46173..1ff1aaa06a 100644
--- a/third_party/libwebrtc/api/video/video_bitrate_allocator_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_bitrate_allocator_factory_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_bitrate_allocator_gn/moz.build b/third_party/libwebrtc/api/video/video_bitrate_allocator_gn/moz.build
index 2b73f70373..bd4e602db3 100644
--- a/third_party/libwebrtc/api/video/video_bitrate_allocator_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_bitrate_allocator_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_codec_constants_gn/moz.build b/third_party/libwebrtc/api/video/video_codec_constants_gn/moz.build
index 12abc9b02c..0b0d1a059d 100644
--- a/third_party/libwebrtc/api/video/video_codec_constants_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_codec_constants_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_frame_gn/moz.build b/third_party/libwebrtc/api/video/video_frame_gn/moz.build
index 49ce8c842d..5c42b97b37 100644
--- a/third_party/libwebrtc/api/video/video_frame_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_frame_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_frame_i010_gn/moz.build b/third_party/libwebrtc/api/video/video_frame_i010_gn/moz.build
index 3c42917a7b..961ffc81e6 100644
--- a/third_party/libwebrtc/api/video/video_frame_i010_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_frame_i010_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_frame_metadata_gn/moz.build b/third_party/libwebrtc/api/video/video_frame_metadata_gn/moz.build
index 00e9ac717e..d81fad8e90 100644
--- a/third_party/libwebrtc/api/video/video_frame_metadata_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_frame_metadata_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_frame_type_gn/moz.build b/third_party/libwebrtc/api/video/video_frame_type_gn/moz.build
index df4f2515a9..35cbbb6faf 100644
--- a/third_party/libwebrtc/api/video/video_frame_type_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_frame_type_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_layers_allocation_gn/moz.build b/third_party/libwebrtc/api/video/video_layers_allocation_gn/moz.build
index a2f6e5d80f..087e4d2b3b 100644
--- a/third_party/libwebrtc/api/video/video_layers_allocation_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_layers_allocation_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_rtp_headers_gn/moz.build b/third_party/libwebrtc/api/video/video_rtp_headers_gn/moz.build
index cee210f81a..9795785a72 100644
--- a/third_party/libwebrtc/api/video/video_rtp_headers_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_rtp_headers_gn/moz.build
@@ -150,6 +150,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video/video_stream_encoder_gn/moz.build b/third_party/libwebrtc/api/video/video_stream_encoder_gn/moz.build
index 52ece0234c..e35fcc49d5 100644
--- a/third_party/libwebrtc/api/video/video_stream_encoder_gn/moz.build
+++ b/third_party/libwebrtc/api/video/video_stream_encoder_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/bitstream_parser_api_gn/moz.build b/third_party/libwebrtc/api/video_codecs/bitstream_parser_api_gn/moz.build
index 2a2652d258..298a78c8a8 100644
--- a/third_party/libwebrtc/api/video_codecs/bitstream_parser_api_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/bitstream_parser_api_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/builtin_video_decoder_factory_gn/moz.build b/third_party/libwebrtc/api/video_codecs/builtin_video_decoder_factory_gn/moz.build
index 39ebc147a0..e79ca13c7d 100644
--- a/third_party/libwebrtc/api/video_codecs/builtin_video_decoder_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/builtin_video_decoder_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/rtc_software_fallback_wrappers_gn/moz.build b/third_party/libwebrtc/api/video_codecs/rtc_software_fallback_wrappers_gn/moz.build
index 1f75ce9bbb..f503a3b205 100644
--- a/third_party/libwebrtc/api/video_codecs/rtc_software_fallback_wrappers_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/rtc_software_fallback_wrappers_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/scalability_mode_gn/moz.build b/third_party/libwebrtc/api/video_codecs/scalability_mode_gn/moz.build
index 8d986676c4..15814eeed8 100644
--- a/third_party/libwebrtc/api/video_codecs/scalability_mode_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/scalability_mode_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/video_codecs_api_gn/moz.build b/third_party/libwebrtc/api/video_codecs/video_codecs_api_gn/moz.build
index 5eee86605c..7e065afaab 100644
--- a/third_party/libwebrtc/api/video_codecs/video_codecs_api_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/video_codecs_api_gn/moz.build
@@ -157,6 +157,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_gn/moz.build b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_gn/moz.build
index 7b82268539..5dad1e3674 100644
--- a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libaom_av1_adapter_gn/moz.build b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libaom_av1_adapter_gn/moz.build
index 9b4826d638..70cf72d1ea 100644
--- a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libaom_av1_adapter_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libaom_av1_adapter_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp8_adapter_gn/moz.build b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp8_adapter_gn/moz.build
index ce79eb359a..5a44aee348 100644
--- a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp8_adapter_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp8_adapter_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp9_adapter_gn/moz.build b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp9_adapter_gn/moz.build
index 39ea1c90a3..268c7c01b2 100644
--- a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp9_adapter_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_libvpx_vp9_adapter_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_open_h264_adapter_gn/moz.build b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_open_h264_adapter_gn/moz.build
index cb5bef223a..3046da6a47 100644
--- a/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_open_h264_adapter_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/video_encoder_factory_template_open_h264_adapter_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_codecs/vp8_temporal_layers_factory_gn/moz.build b/third_party/libwebrtc/api/video_codecs/vp8_temporal_layers_factory_gn/moz.build
index 8ce733a785..487c0d9471 100644
--- a/third_party/libwebrtc/api/video_codecs/vp8_temporal_layers_factory_gn/moz.build
+++ b/third_party/libwebrtc/api/video_codecs/vp8_temporal_layers_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/api/video_track_source_constraints_gn/moz.build b/third_party/libwebrtc/api/video_track_source_constraints_gn/moz.build
index 1266e221a4..eed553ce96 100644
--- a/third_party/libwebrtc/api/video_track_source_constraints_gn/moz.build
+++ b/third_party/libwebrtc/api/video_track_source_constraints_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/audio/audio_gn/moz.build b/third_party/libwebrtc/audio/audio_gn/moz.build
index a48a96b230..c52d2d8ec5 100644
--- a/third_party/libwebrtc/audio/audio_gn/moz.build
+++ b/third_party/libwebrtc/audio/audio_gn/moz.build
@@ -164,6 +164,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/audio/utility/audio_frame_operations_gn/moz.build b/third_party/libwebrtc/audio/utility/audio_frame_operations_gn/moz.build
index ba769595e3..41ec2166f7 100644
--- a/third_party/libwebrtc/audio/utility/audio_frame_operations_gn/moz.build
+++ b/third_party/libwebrtc/audio/utility/audio_frame_operations_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/adaptation/resource_adaptation_gn/moz.build b/third_party/libwebrtc/call/adaptation/resource_adaptation_gn/moz.build
index a141c723e1..b47b7f6712 100644
--- a/third_party/libwebrtc/call/adaptation/resource_adaptation_gn/moz.build
+++ b/third_party/libwebrtc/call/adaptation/resource_adaptation_gn/moz.build
@@ -161,6 +161,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/audio_sender_interface_gn/moz.build b/third_party/libwebrtc/call/audio_sender_interface_gn/moz.build
index 60b1d4d180..64613d5feb 100644
--- a/third_party/libwebrtc/call/audio_sender_interface_gn/moz.build
+++ b/third_party/libwebrtc/call/audio_sender_interface_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/bitrate_allocator_gn/moz.build b/third_party/libwebrtc/call/bitrate_allocator_gn/moz.build
index cf934c740e..f881adeec2 100644
--- a/third_party/libwebrtc/call/bitrate_allocator_gn/moz.build
+++ b/third_party/libwebrtc/call/bitrate_allocator_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/bitrate_configurator_gn/moz.build b/third_party/libwebrtc/call/bitrate_configurator_gn/moz.build
index c9e04ea788..1c8d60c87c 100644
--- a/third_party/libwebrtc/call/bitrate_configurator_gn/moz.build
+++ b/third_party/libwebrtc/call/bitrate_configurator_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/call_gn/moz.build b/third_party/libwebrtc/call/call_gn/moz.build
index d6494e1c24..554f25cfb4 100644
--- a/third_party/libwebrtc/call/call_gn/moz.build
+++ b/third_party/libwebrtc/call/call_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/call_interfaces_gn/moz.build b/third_party/libwebrtc/call/call_interfaces_gn/moz.build
index 86d4a86725..01a07308c0 100644
--- a/third_party/libwebrtc/call/call_interfaces_gn/moz.build
+++ b/third_party/libwebrtc/call/call_interfaces_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/payload_type_gn/moz.build b/third_party/libwebrtc/call/payload_type_gn/moz.build
index 4c566ddd34..4ee6afa8af 100644
--- a/third_party/libwebrtc/call/payload_type_gn/moz.build
+++ b/third_party/libwebrtc/call/payload_type_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/payload_type_picker_gn/moz.build b/third_party/libwebrtc/call/payload_type_picker_gn/moz.build
index a05901f90b..9882d5dcd2 100644
--- a/third_party/libwebrtc/call/payload_type_picker_gn/moz.build
+++ b/third_party/libwebrtc/call/payload_type_picker_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/receive_stream_interface_gn/moz.build b/third_party/libwebrtc/call/receive_stream_interface_gn/moz.build
index cdb233a7b8..c7fa9954fd 100644
--- a/third_party/libwebrtc/call/receive_stream_interface_gn/moz.build
+++ b/third_party/libwebrtc/call/receive_stream_interface_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/rtp_interfaces_gn/moz.build b/third_party/libwebrtc/call/rtp_interfaces_gn/moz.build
index 4a2592e102..6fb2e359fb 100644
--- a/third_party/libwebrtc/call/rtp_interfaces_gn/moz.build
+++ b/third_party/libwebrtc/call/rtp_interfaces_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/rtp_receiver_gn/moz.build b/third_party/libwebrtc/call/rtp_receiver_gn/moz.build
index 29c6d7e8dc..2541c2cae1 100644
--- a/third_party/libwebrtc/call/rtp_receiver_gn/moz.build
+++ b/third_party/libwebrtc/call/rtp_receiver_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/rtp_sender_gn/moz.build b/third_party/libwebrtc/call/rtp_sender_gn/moz.build
index 4a311ea46b..aa3c0bba66 100644
--- a/third_party/libwebrtc/call/rtp_sender_gn/moz.build
+++ b/third_party/libwebrtc/call/rtp_sender_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/version_gn/moz.build b/third_party/libwebrtc/call/version_gn/moz.build
index ed2b5ac1d9..e7398c80ea 100644
--- a/third_party/libwebrtc/call/version_gn/moz.build
+++ b/third_party/libwebrtc/call/version_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/video_receive_stream_api_gn/moz.build b/third_party/libwebrtc/call/video_receive_stream_api_gn/moz.build
index f359b8b7b8..51f7c9ac29 100644
--- a/third_party/libwebrtc/call/video_receive_stream_api_gn/moz.build
+++ b/third_party/libwebrtc/call/video_receive_stream_api_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/call/video_send_stream_api_gn/moz.build b/third_party/libwebrtc/call/video_send_stream_api_gn/moz.build
index 136f19b696..0742e20b1b 100644
--- a/third_party/libwebrtc/call/video_send_stream_api_gn/moz.build
+++ b/third_party/libwebrtc/call/video_send_stream_api_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/common_audio_c_arm_asm_gn/moz.build b/third_party/libwebrtc/common_audio/common_audio_c_arm_asm_gn/moz.build
index de634ef22a..0707d29fb6 100644
--- a/third_party/libwebrtc/common_audio/common_audio_c_arm_asm_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/common_audio_c_arm_asm_gn/moz.build
@@ -133,6 +133,10 @@ if CONFIG["TARGET_CPU"] == "arm":
         "/third_party/libwebrtc/common_audio/signal_processing/filter_ar_fast_q12_armv7.S"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/common_audio_c_gn/moz.build b/third_party/libwebrtc/common_audio/common_audio_c_gn/moz.build
index 3dd5b47ef0..d3ade0886c 100644
--- a/third_party/libwebrtc/common_audio/common_audio_c_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/common_audio_c_gn/moz.build
@@ -210,6 +210,16 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
+    UNIFIED_SOURCES += [
+        "/third_party/libwebrtc/common_audio/signal_processing/complex_bit_reverse.c",
+        "/third_party/libwebrtc/common_audio/signal_processing/complex_fft.c",
+        "/third_party/libwebrtc/common_audio/signal_processing/filter_ar_fast_q12.c"
+    ]
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/common_audio_cc_gn/moz.build b/third_party/libwebrtc/common_audio/common_audio_cc_gn/moz.build
index 8ae2488b3f..c023b7c150 100644
--- a/third_party/libwebrtc/common_audio/common_audio_cc_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/common_audio_cc_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/common_audio_gn/moz.build b/third_party/libwebrtc/common_audio/common_audio_gn/moz.build
index 2adb05db1d..8a6ffa09ab 100644
--- a/third_party/libwebrtc/common_audio/common_audio_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/common_audio_gn/moz.build
@@ -164,6 +164,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/fir_filter_factory_gn/moz.build b/third_party/libwebrtc/common_audio/fir_filter_factory_gn/moz.build
index 7feb4c9425..2e171bb7a6 100644
--- a/third_party/libwebrtc/common_audio/fir_filter_factory_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/fir_filter_factory_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/fir_filter_gn/moz.build b/third_party/libwebrtc/common_audio/fir_filter_gn/moz.build
index 737328806d..5ecdb1c5a6 100644
--- a/third_party/libwebrtc/common_audio/fir_filter_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/fir_filter_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/sinc_resampler_gn/moz.build b/third_party/libwebrtc/common_audio/sinc_resampler_gn/moz.build
index 30b5d4b7f2..7119bb2e4f 100644
--- a/third_party/libwebrtc/common_audio/sinc_resampler_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/sinc_resampler_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_128_gn/moz.build b/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_128_gn/moz.build
index 97936c8f46..61b2490a00 100644
--- a/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_128_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_128_gn/moz.build
@@ -159,6 +159,10 @@ if CONFIG["TARGET_CPU"] == "arm":
         "/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_128/ooura_fft_neon.cc"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_256_gn/moz.build b/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_256_gn/moz.build
index 71d18f8090..78925ad820 100644
--- a/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_256_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/third_party/ooura/fft_size_256_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_audio/third_party/spl_sqrt_floor/spl_sqrt_floor_gn/moz.build b/third_party/libwebrtc/common_audio/third_party/spl_sqrt_floor/spl_sqrt_floor_gn/moz.build
index 57536e5ed9..a6269cbd5a 100644
--- a/third_party/libwebrtc/common_audio/third_party/spl_sqrt_floor/spl_sqrt_floor_gn/moz.build
+++ b/third_party/libwebrtc/common_audio/third_party/spl_sqrt_floor/spl_sqrt_floor_gn/moz.build
@@ -144,6 +144,14 @@ if CONFIG["TARGET_CPU"] == "arm":
         "/third_party/libwebrtc/common_audio/third_party/spl_sqrt_floor/spl_sqrt_floor_arm.S"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
+    UNIFIED_SOURCES += [
+        "/third_party/libwebrtc/common_audio/third_party/spl_sqrt_floor/spl_sqrt_floor.c"
+    ]
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/common_video_gn/moz.build b/third_party/libwebrtc/common_video/common_video_gn/moz.build
index 04e8ee3317..cb40e06428 100644
--- a/third_party/libwebrtc/common_video/common_video_gn/moz.build
+++ b/third_party/libwebrtc/common_video/common_video_gn/moz.build
@@ -159,6 +159,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/corruption_detection_converters_gn/moz.build b/third_party/libwebrtc/common_video/corruption_detection_converters_gn/moz.build
index 733c0e05c2..9cb9225a87 100644
--- a/third_party/libwebrtc/common_video/corruption_detection_converters_gn/moz.build
+++ b/third_party/libwebrtc/common_video/corruption_detection_converters_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/corruption_detection_message_gn/moz.build b/third_party/libwebrtc/common_video/corruption_detection_message_gn/moz.build
index a471c6b88e..5c94efb784 100644
--- a/third_party/libwebrtc/common_video/corruption_detection_message_gn/moz.build
+++ b/third_party/libwebrtc/common_video/corruption_detection_message_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/corruption_score_calculator_gn/moz.build b/third_party/libwebrtc/common_video/corruption_score_calculator_gn/moz.build
index 96efd5afee..fc3bafbb64 100644
--- a/third_party/libwebrtc/common_video/corruption_score_calculator_gn/moz.build
+++ b/third_party/libwebrtc/common_video/corruption_score_calculator_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/frame_counts_gn/moz.build b/third_party/libwebrtc/common_video/frame_counts_gn/moz.build
index c8a0214f97..8fc0726fff 100644
--- a/third_party/libwebrtc/common_video/frame_counts_gn/moz.build
+++ b/third_party/libwebrtc/common_video/frame_counts_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/frame_instrumentation_data_gn/moz.build b/third_party/libwebrtc/common_video/frame_instrumentation_data_gn/moz.build
index e168f9ab34..6f415251ad 100644
--- a/third_party/libwebrtc/common_video/frame_instrumentation_data_gn/moz.build
+++ b/third_party/libwebrtc/common_video/frame_instrumentation_data_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/common_video/generic_frame_descriptor/generic_frame_descriptor_gn/moz.build b/third_party/libwebrtc/common_video/generic_frame_descriptor/generic_frame_descriptor_gn/moz.build
index 228f15d136..d36cf57dac 100644
--- a/third_party/libwebrtc/common_video/generic_frame_descriptor/generic_frame_descriptor_gn/moz.build
+++ b/third_party/libwebrtc/common_video/generic_frame_descriptor/generic_frame_descriptor_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/dcsctp_gn/moz.build b/third_party/libwebrtc/dcsctp_gn/moz.build
index e7fd89aa1d..2f940fd7be 100644
--- a/third_party/libwebrtc/dcsctp_gn/moz.build
+++ b/third_party/libwebrtc/dcsctp_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/experiments/registered_field_trials_gn/moz.build b/third_party/libwebrtc/experiments/registered_field_trials_gn/moz.build
index da682dbf4c..2164722550 100644
--- a/third_party/libwebrtc/experiments/registered_field_trials_gn/moz.build
+++ b/third_party/libwebrtc/experiments/registered_field_trials_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_audio_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_audio_gn/moz.build
index f697998dc0..a6629977f4 100644
--- a/third_party/libwebrtc/logging/rtc_event_audio_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_audio_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_bwe_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_bwe_gn/moz.build
index 7cc2e6f457..f5dbb588ce 100644
--- a/third_party/libwebrtc/logging/rtc_event_bwe_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_bwe_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_field_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_field_gn/moz.build
index 091619887a..f121198a08 100644
--- a/third_party/libwebrtc/logging/rtc_event_field_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_field_gn/moz.build
@@ -150,6 +150,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_log_parse_status_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_log_parse_status_gn/moz.build
index c8a88a8c0d..2348f29e33 100644
--- a/third_party/libwebrtc/logging/rtc_event_log_parse_status_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_log_parse_status_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_number_encodings_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_number_encodings_gn/moz.build
index e6e2fbc11a..524cb78d49 100644
--- a/third_party/libwebrtc/logging/rtc_event_number_encodings_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_number_encodings_gn/moz.build
@@ -142,6 +142,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_pacing_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_pacing_gn/moz.build
index 48ee880d88..6dc6484494 100644
--- a/third_party/libwebrtc/logging/rtc_event_pacing_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_pacing_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_rtp_rtcp_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_rtp_rtcp_gn/moz.build
index edc863915c..8cc1177e82 100644
--- a/third_party/libwebrtc/logging/rtc_event_rtp_rtcp_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_rtp_rtcp_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_event_video_gn/moz.build b/third_party/libwebrtc/logging/rtc_event_video_gn/moz.build
index f1836eb8d6..3f8e25f66c 100644
--- a/third_party/libwebrtc/logging/rtc_event_video_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_event_video_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/logging/rtc_stream_config_gn/moz.build b/third_party/libwebrtc/logging/rtc_stream_config_gn/moz.build
index 0f31a36f30..604a99340e 100644
--- a/third_party/libwebrtc/logging/rtc_stream_config_gn/moz.build
+++ b/third_party/libwebrtc/logging/rtc_stream_config_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/adapted_video_track_source_gn/moz.build b/third_party/libwebrtc/media/adapted_video_track_source_gn/moz.build
index 5c5a839322..9cd35674dc 100644
--- a/third_party/libwebrtc/media/adapted_video_track_source_gn/moz.build
+++ b/third_party/libwebrtc/media/adapted_video_track_source_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/audio_source_gn/moz.build b/third_party/libwebrtc/media/audio_source_gn/moz.build
index fb289118f9..1241f267c6 100644
--- a/third_party/libwebrtc/media/audio_source_gn/moz.build
+++ b/third_party/libwebrtc/media/audio_source_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/codec_gn/moz.build b/third_party/libwebrtc/media/codec_gn/moz.build
index 6812d637e5..51c9e2fdf2 100644
--- a/third_party/libwebrtc/media/codec_gn/moz.build
+++ b/third_party/libwebrtc/media/codec_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/media_channel_gn/moz.build b/third_party/libwebrtc/media/media_channel_gn/moz.build
index 4854c0cba2..948e34ca80 100644
--- a/third_party/libwebrtc/media/media_channel_gn/moz.build
+++ b/third_party/libwebrtc/media/media_channel_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/media_channel_impl_gn/moz.build b/third_party/libwebrtc/media/media_channel_impl_gn/moz.build
index 00553c0986..fc55532a80 100644
--- a/third_party/libwebrtc/media/media_channel_impl_gn/moz.build
+++ b/third_party/libwebrtc/media/media_channel_impl_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/media_constants_gn/moz.build b/third_party/libwebrtc/media/media_constants_gn/moz.build
index e5e108aaa4..513ae136c7 100644
--- a/third_party/libwebrtc/media/media_constants_gn/moz.build
+++ b/third_party/libwebrtc/media/media_constants_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/media_engine_gn/moz.build b/third_party/libwebrtc/media/media_engine_gn/moz.build
index 86697b490e..f2f90903dc 100644
--- a/third_party/libwebrtc/media/media_engine_gn/moz.build
+++ b/third_party/libwebrtc/media/media_engine_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rid_description_gn/moz.build b/third_party/libwebrtc/media/rid_description_gn/moz.build
index 82a78e20a6..1985b87ded 100644
--- a/third_party/libwebrtc/media/rid_description_gn/moz.build
+++ b/third_party/libwebrtc/media/rid_description_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_audio_video_gn/moz.build b/third_party/libwebrtc/media/rtc_audio_video_gn/moz.build
index 098fdf4d6b..90168a7734 100644
--- a/third_party/libwebrtc/media/rtc_audio_video_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_audio_video_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_internal_video_codecs_gn/moz.build b/third_party/libwebrtc/media/rtc_internal_video_codecs_gn/moz.build
index 4c6e3dc5cc..1adaccb514 100644
--- a/third_party/libwebrtc/media/rtc_internal_video_codecs_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_internal_video_codecs_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_media_base_gn/moz.build b/third_party/libwebrtc/media/rtc_media_base_gn/moz.build
index b762b96021..64266d40b4 100644
--- a/third_party/libwebrtc/media/rtc_media_base_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_media_base_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_media_config_gn/moz.build b/third_party/libwebrtc/media/rtc_media_config_gn/moz.build
index dd16a773fd..1b6f1e5f81 100644
--- a/third_party/libwebrtc/media/rtc_media_config_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_media_config_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_media_gn/moz.build b/third_party/libwebrtc/media/rtc_media_gn/moz.build
index 1b269b89cb..d1ab590e0b 100644
--- a/third_party/libwebrtc/media/rtc_media_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_media_gn/moz.build
@@ -149,6 +149,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_sdp_video_format_utils_gn/moz.build b/third_party/libwebrtc/media/rtc_sdp_video_format_utils_gn/moz.build
index 786f085bf8..1e630fef1e 100644
--- a/third_party/libwebrtc/media/rtc_sdp_video_format_utils_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_sdp_video_format_utils_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtc_simulcast_encoder_adapter_gn/moz.build b/third_party/libwebrtc/media/rtc_simulcast_encoder_adapter_gn/moz.build
index c5defab97e..28bddfa3df 100644
--- a/third_party/libwebrtc/media/rtc_simulcast_encoder_adapter_gn/moz.build
+++ b/third_party/libwebrtc/media/rtc_simulcast_encoder_adapter_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/rtp_utils_gn/moz.build b/third_party/libwebrtc/media/rtp_utils_gn/moz.build
index 75d0cfe84b..fb6bf035b5 100644
--- a/third_party/libwebrtc/media/rtp_utils_gn/moz.build
+++ b/third_party/libwebrtc/media/rtp_utils_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/stream_params_gn/moz.build b/third_party/libwebrtc/media/stream_params_gn/moz.build
index d18746b1a1..fc9cfc7fec 100644
--- a/third_party/libwebrtc/media/stream_params_gn/moz.build
+++ b/third_party/libwebrtc/media/stream_params_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/video_adapter_gn/moz.build b/third_party/libwebrtc/media/video_adapter_gn/moz.build
index d295977145..01d68b1953 100644
--- a/third_party/libwebrtc/media/video_adapter_gn/moz.build
+++ b/third_party/libwebrtc/media/video_adapter_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/video_broadcaster_gn/moz.build b/third_party/libwebrtc/media/video_broadcaster_gn/moz.build
index 94ab6f7e96..c009305537 100644
--- a/third_party/libwebrtc/media/video_broadcaster_gn/moz.build
+++ b/third_party/libwebrtc/media/video_broadcaster_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/video_common_gn/moz.build b/third_party/libwebrtc/media/video_common_gn/moz.build
index 3f00d449dd..9fdf90d2ea 100644
--- a/third_party/libwebrtc/media/video_common_gn/moz.build
+++ b/third_party/libwebrtc/media/video_common_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/media/video_source_base_gn/moz.build b/third_party/libwebrtc/media/video_source_base_gn/moz.build
index 963a423a88..98060ff1d3 100644
--- a/third_party/libwebrtc/media/video_source_base_gn/moz.build
+++ b/third_party/libwebrtc/media/video_source_base_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/async_audio_processing/async_audio_processing_gn/moz.build b/third_party/libwebrtc/modules/async_audio_processing/async_audio_processing_gn/moz.build
index 7762bf605b..fa5724cd7b 100644
--- a/third_party/libwebrtc/modules/async_audio_processing/async_audio_processing_gn/moz.build
+++ b/third_party/libwebrtc/modules/async_audio_processing/async_audio_processing_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/audio_coding_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/audio_coding_gn/moz.build
index 9f1cf10559..942ca39125 100644
--- a/third_party/libwebrtc/modules/audio_coding/audio_coding_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/audio_coding_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build
index 6dd0638051..722f61ffeb 100644
--- a/third_party/libwebrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/audio_coding_module_typedefs_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/audio_coding_opus_common_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/audio_coding_opus_common_gn/moz.build
index 0aa3a5c13a..3179e363d1 100644
--- a/third_party/libwebrtc/modules/audio_coding/audio_coding_opus_common_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/audio_coding_opus_common_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/audio_encoder_cng_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/audio_encoder_cng_gn/moz.build
index 0067c3f98e..29c2f1ad4f 100644
--- a/third_party/libwebrtc/modules/audio_coding/audio_encoder_cng_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/audio_encoder_cng_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build
index b2d1b4dc33..469146e9ac 100644
--- a/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_config_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build
index 9d528d53ef..520c1d2429 100644
--- a/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/audio_network_adaptor_gn/moz.build
@@ -161,6 +161,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/g711_c_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/g711_c_gn/moz.build
index a6410efb20..0093dc4e6a 100644
--- a/third_party/libwebrtc/modules/audio_coding/g711_c_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/g711_c_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/g711_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/g711_gn/moz.build
index 7a05e0fef8..1883839bf2 100644
--- a/third_party/libwebrtc/modules/audio_coding/g711_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/g711_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/g722_c_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/g722_c_gn/moz.build
index 50d116f354..e529107882 100644
--- a/third_party/libwebrtc/modules/audio_coding/g722_c_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/g722_c_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/g722_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/g722_gn/moz.build
index 11b9938daa..1edb33c027 100644
--- a/third_party/libwebrtc/modules/audio_coding/g722_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/g722_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/isac_bwinfo_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/isac_bwinfo_gn/moz.build
index 2885722361..9b461b1c25 100644
--- a/third_party/libwebrtc/modules/audio_coding/isac_bwinfo_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/isac_bwinfo_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/isac_vad_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/isac_vad_gn/moz.build
index fe126a48ae..4aa8ad903c 100644
--- a/third_party/libwebrtc/modules/audio_coding/isac_vad_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/isac_vad_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build
index 0b9286ae51..1dfa3e67f3 100644
--- a/third_party/libwebrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/legacy_encoded_audio_frame_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/neteq_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/neteq_gn/moz.build
index 9805e561dc..08f8439eb0 100644
--- a/third_party/libwebrtc/modules/audio_coding/neteq_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/neteq_gn/moz.build
@@ -186,6 +186,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/pcm16b_c_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/pcm16b_c_gn/moz.build
index 04415c3d81..1f357c4fb6 100644
--- a/third_party/libwebrtc/modules/audio_coding/pcm16b_c_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/pcm16b_c_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/pcm16b_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/pcm16b_gn/moz.build
index 973b836b33..3ea40d6df7 100644
--- a/third_party/libwebrtc/modules/audio_coding/pcm16b_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/pcm16b_gn/moz.build
@@ -149,6 +149,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/red_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/red_gn/moz.build
index 4c73b57a90..90cfee8f52 100644
--- a/third_party/libwebrtc/modules/audio_coding/red_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/red_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/webrtc_cng_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/webrtc_cng_gn/moz.build
index c8ae0caf04..9a44528037 100644
--- a/third_party/libwebrtc/modules/audio_coding/webrtc_cng_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/webrtc_cng_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/webrtc_multiopus_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/webrtc_multiopus_gn/moz.build
index 71be9125e7..62e6d99b04 100644
--- a/third_party/libwebrtc/modules/audio_coding/webrtc_multiopus_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/webrtc_multiopus_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/webrtc_opus_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/webrtc_opus_gn/moz.build
index b8d07f9416..a540a00469 100644
--- a/third_party/libwebrtc/modules/audio_coding/webrtc_opus_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/webrtc_opus_gn/moz.build
@@ -155,6 +155,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_coding/webrtc_opus_wrapper_gn/moz.build b/third_party/libwebrtc/modules/audio_coding/webrtc_opus_wrapper_gn/moz.build
index 8589e2deba..8970c596ba 100644
--- a/third_party/libwebrtc/modules/audio_coding/webrtc_opus_wrapper_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_coding/webrtc_opus_wrapper_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_device/audio_device_gn/moz.build b/third_party/libwebrtc/modules/audio_device/audio_device_gn/moz.build
index 461a79c230..0bd773f449 100644
--- a/third_party/libwebrtc/modules/audio_device/audio_device_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_device/audio_device_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_device/audio_device_impl_gn/moz.build b/third_party/libwebrtc/modules/audio_device/audio_device_impl_gn/moz.build
index 68d0cbc635..ec77b35b94 100644
--- a/third_party/libwebrtc/modules/audio_device/audio_device_impl_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_device/audio_device_impl_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build b/third_party/libwebrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build
index e0dbde0dec..1a1300027e 100644
--- a/third_party/libwebrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_mixer/audio_frame_manipulator_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build b/third_party/libwebrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build
index 3f24bc615d..1f38d95be5 100644
--- a/third_party/libwebrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_mixer/audio_mixer_impl_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_erl_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_erl_gn/moz.build
index 3f4cb13e32..5cf655eb92 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_erl_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_erl_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_gn/moz.build
index ede73916b9..497676ffe6 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/adaptive_fir_filter_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/aec3_common_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/aec3_common_gn/moz.build
index 95a0a39a6c..3fb0ea8a2c 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/aec3_common_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/aec3_common_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/aec3_fft_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/aec3_fft_gn/moz.build
index 97d1e13178..4900eca953 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/aec3_fft_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/aec3_fft_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/aec3_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/aec3_gn/moz.build
index 9134c2257c..53b983a22f 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/aec3_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/aec3_gn/moz.build
@@ -208,6 +208,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/fft_data_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/fft_data_gn/moz.build
index 1bf09532e6..5310e43a1d 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/fft_data_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/fft_data_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/matched_filter_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/matched_filter_gn/moz.build
index f045aab9c5..16305e915f 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/matched_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/matched_filter_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/render_buffer_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/render_buffer_gn/moz.build
index e29b99df43..107439b1d3 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/render_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/render_buffer_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec3/vector_math_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec3/vector_math_gn/moz.build
index 6679b52489..7279845047 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec3/vector_math_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec3/vector_math_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build
index 550a884771..2fa8e61caa 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec_dump/aec_dump_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build
index 36f213d214..f4a57f1fba 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec_dump/null_aec_dump_factory_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aec_dump_interface_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aec_dump_interface_gn/moz.build
index 2ae72fd859..6196d6ff4f 100644
--- a/third_party/libwebrtc/modules/audio_processing/aec_dump_interface_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aec_dump_interface_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/aecm/aecm_core_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/aecm/aecm_core_gn/moz.build
index 00b431d1e0..a884cffa8f 100644
--- a/third_party/libwebrtc/modules/audio_processing/aecm/aecm_core_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/aecm/aecm_core_gn/moz.build
@@ -176,6 +176,14 @@ if CONFIG["TARGET_CPU"] == "arm":
         "/third_party/libwebrtc/modules/audio_processing/aecm/aecm_core_neon.cc"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
+    SOURCES += [
+        "/third_party/libwebrtc/modules/audio_processing/aecm/aecm_core_c.cc"
+    ]
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc/agc_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc/agc_gn/moz.build
index 0c04fca7ed..c456275f85 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc/agc_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc/agc_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc/gain_control_interface_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc/gain_control_interface_gn/moz.build
index d407622a9d..456421e167 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc/gain_control_interface_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc/gain_control_interface_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc/legacy_agc_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc/legacy_agc_gn/moz.build
index dfcf770d48..ab1285e34d 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc/legacy_agc_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc/legacy_agc_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc/level_estimation_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc/level_estimation_gn/moz.build
index 0a7c634fae..14e35c2e02 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc/level_estimation_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc/level_estimation_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/adaptive_digital_gain_controller_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/adaptive_digital_gain_controller_gn/moz.build
index e0d4933eda..a926bba447 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/adaptive_digital_gain_controller_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/adaptive_digital_gain_controller_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/biquad_filter_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/biquad_filter_gn/moz.build
index 4793841f0a..2ccf23b328 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/biquad_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/biquad_filter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/clipping_predictor_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/clipping_predictor_gn/moz.build
index 2d23932bca..b7bfe444b7 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/clipping_predictor_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/clipping_predictor_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/common_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/common_gn/moz.build
index 65c439c231..138354dbc4 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/common_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/common_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/cpu_features_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/cpu_features_gn/moz.build
index c8b21bb6ad..2f40304afa 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/cpu_features_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/cpu_features_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/fixed_digital_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/fixed_digital_gn/moz.build
index f860fd328d..f5c615e7c1 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/fixed_digital_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/fixed_digital_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/gain_applier_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/gain_applier_gn/moz.build
index f7812fce9d..336fbad968 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/gain_applier_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/gain_applier_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/gain_map_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/gain_map_gn/moz.build
index b5f7a1f95f..a542386830 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/gain_map_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/gain_map_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_controller_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_controller_gn/moz.build
index 1fa5330245..f5be716a8b 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_controller_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_controller_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_stats_reporter_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_stats_reporter_gn/moz.build
index 6cd3184136..feb82f3997 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_stats_reporter_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/input_volume_stats_reporter_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/noise_level_estimator_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/noise_level_estimator_gn/moz.build
index 448d79a801..e90d9910bf 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/noise_level_estimator_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/noise_level_estimator_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_auto_correlation_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_auto_correlation_gn/moz.build
index b73e7d948d..24079e9ae6 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_auto_correlation_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_auto_correlation_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_common_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_common_gn/moz.build
index 972ca8adce..49c7c7762c 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_common_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_common_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_gn/moz.build
index cc8f174d72..26a7d3b891 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_layers_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_layers_gn/moz.build
index 25a5c06ea9..04a1e7cc55 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_layers_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_layers_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_lp_residual_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_lp_residual_gn/moz.build
index 1e2ab7fc16..98019531c7 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_lp_residual_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_lp_residual_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_pitch_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_pitch_gn/moz.build
index c6be5c632c..7d650f259e 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_pitch_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_pitch_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_ring_buffer_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_ring_buffer_gn/moz.build
index 10138f6aca..0eb74a400f 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_ring_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_ring_buffer_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_sequence_buffer_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_sequence_buffer_gn/moz.build
index 901f9fb816..2df8bb1943 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_sequence_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_sequence_buffer_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_spectral_features_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_spectral_features_gn/moz.build
index fde639fb8e..be92010f91 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_spectral_features_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_spectral_features_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_symmetric_matrix_buffer_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_symmetric_matrix_buffer_gn/moz.build
index ed0646b64e..709fac2fab 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_symmetric_matrix_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/rnn_vad_symmetric_matrix_buffer_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/vector_math_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/vector_math_gn/moz.build
index 20fc3cd717..edc37cfec6 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/vector_math_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/rnn_vad/vector_math_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/saturation_protector_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/saturation_protector_gn/moz.build
index 6498b2c841..d71b31c270 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/saturation_protector_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/saturation_protector_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/speech_level_estimator_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/speech_level_estimator_gn/moz.build
index 317475790b..1e8ce8cdd7 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/speech_level_estimator_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/speech_level_estimator_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/agc2/vad_wrapper_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/agc2/vad_wrapper_gn/moz.build
index a4db725932..ef605c387a 100644
--- a/third_party/libwebrtc/modules/audio_processing/agc2/vad_wrapper_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/agc2/vad_wrapper_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/apm_logging_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/apm_logging_gn/moz.build
index ee282cd0ce..f74ce8a70d 100644
--- a/third_party/libwebrtc/modules/audio_processing/apm_logging_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/apm_logging_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/audio_buffer_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/audio_buffer_gn/moz.build
index 84b06af35b..17db8ead56 100644
--- a/third_party/libwebrtc/modules/audio_processing/audio_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/audio_buffer_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/audio_frame_proxies_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/audio_frame_proxies_gn/moz.build
index c06465293b..8c58163047 100644
--- a/third_party/libwebrtc/modules/audio_processing/audio_frame_proxies_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/audio_frame_proxies_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/audio_frame_view_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/audio_frame_view_gn/moz.build
index 32c5317795..f011e41ad8 100644
--- a/third_party/libwebrtc/modules/audio_processing/audio_frame_view_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/audio_frame_view_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/audio_processing_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/audio_processing_gn/moz.build
index 6fab98d661..ce81a3b89a 100644
--- a/third_party/libwebrtc/modules/audio_processing/audio_processing_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/audio_processing_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/capture_levels_adjuster/capture_levels_adjuster_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/capture_levels_adjuster/capture_levels_adjuster_gn/moz.build
index cea193ed2d..bfb581bfc1 100644
--- a/third_party/libwebrtc/modules/audio_processing/capture_levels_adjuster/capture_levels_adjuster_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/capture_levels_adjuster/capture_levels_adjuster_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/gain_controller2_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/gain_controller2_gn/moz.build
index 1fe4be81df..04d5bf230b 100644
--- a/third_party/libwebrtc/modules/audio_processing/gain_controller2_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/gain_controller2_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/high_pass_filter_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/high_pass_filter_gn/moz.build
index 91df727896..d8f32b688d 100644
--- a/third_party/libwebrtc/modules/audio_processing/high_pass_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/high_pass_filter_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/ns/ns_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/ns/ns_gn/moz.build
index 6ba4f90ef5..cdb283be4f 100644
--- a/third_party/libwebrtc/modules/audio_processing/ns/ns_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/ns/ns_gn/moz.build
@@ -164,6 +164,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/rms_level_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/rms_level_gn/moz.build
index f2be2db9bb..35578fe552 100644
--- a/third_party/libwebrtc/modules/audio_processing/rms_level_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/rms_level_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/utility/cascaded_biquad_filter_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/utility/cascaded_biquad_filter_gn/moz.build
index 461c8e3493..21cda458a6 100644
--- a/third_party/libwebrtc/modules/audio_processing/utility/cascaded_biquad_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/utility/cascaded_biquad_filter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/utility/legacy_delay_estimator_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/utility/legacy_delay_estimator_gn/moz.build
index f5b33d513b..f3d2ab4734 100644
--- a/third_party/libwebrtc/modules/audio_processing/utility/legacy_delay_estimator_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/utility/legacy_delay_estimator_gn/moz.build
@@ -141,6 +141,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/utility/pffft_wrapper_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/utility/pffft_wrapper_gn/moz.build
index e2be6bcbe3..f56c3da341 100644
--- a/third_party/libwebrtc/modules/audio_processing/utility/pffft_wrapper_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/utility/pffft_wrapper_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/audio_processing/vad/vad_gn/moz.build b/third_party/libwebrtc/modules/audio_processing/vad/vad_gn/moz.build
index c3240758c1..bbef9ef624 100644
--- a/third_party/libwebrtc/modules/audio_processing/vad/vad_gn/moz.build
+++ b/third_party/libwebrtc/modules/audio_processing/vad/vad_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/congestion_controller_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/congestion_controller_gn/moz.build
index f236c2472b..4389423238 100644
--- a/third_party/libwebrtc/modules/congestion_controller/congestion_controller_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/congestion_controller_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/alr_detector_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/alr_detector_gn/moz.build
index b31018b430..c4ea2411dd 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/alr_detector_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/alr_detector_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/delay_based_bwe_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/delay_based_bwe_gn/moz.build
index 85a0fb08f4..b6288b8b9d 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/delay_based_bwe_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/delay_based_bwe_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/estimators_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/estimators_gn/moz.build
index a626c945ab..7b91bffbc1 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/estimators_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/estimators_gn/moz.build
@@ -156,6 +156,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/goog_cc_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/goog_cc_gn/moz.build
index 16443891a0..31f5270f93 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/goog_cc_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/goog_cc_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/link_capacity_estimator_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/link_capacity_estimator_gn/moz.build
index 1acbe66d2d..d34cc09be9 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/link_capacity_estimator_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/link_capacity_estimator_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v1_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v1_gn/moz.build
index 2b18aff56d..6be492d216 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v1_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v1_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v2_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v2_gn/moz.build
index c510475705..cc47dffd84 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v2_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/loss_based_bwe_v2_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/probe_controller_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/probe_controller_gn/moz.build
index b7f3486f5b..342ac79b6a 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/probe_controller_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/probe_controller_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/pushback_controller_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/pushback_controller_gn/moz.build
index c819080f7c..b04648d2b1 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/pushback_controller_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/pushback_controller_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/goog_cc/send_side_bwe_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/goog_cc/send_side_bwe_gn/moz.build
index 797d8fe170..fd539cda7a 100644
--- a/third_party/libwebrtc/modules/congestion_controller/goog_cc/send_side_bwe_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/goog_cc/send_side_bwe_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/rtp/control_handler_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/rtp/control_handler_gn/moz.build
index bf977b77c9..d749ed805f 100644
--- a/third_party/libwebrtc/modules/congestion_controller/rtp/control_handler_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/rtp/control_handler_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/congestion_controller/rtp/transport_feedback_gn/moz.build b/third_party/libwebrtc/modules/congestion_controller/rtp/transport_feedback_gn/moz.build
index ac7e0dc89a..28fb206315 100644
--- a/third_party/libwebrtc/modules/congestion_controller/rtp/transport_feedback_gn/moz.build
+++ b/third_party/libwebrtc/modules/congestion_controller/rtp/transport_feedback_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/desktop_capture/desktop_capture_gn/moz.build b/third_party/libwebrtc/modules/desktop_capture/desktop_capture_gn/moz.build
index 28583632f9..60ff9cd652 100644
--- a/third_party/libwebrtc/modules/desktop_capture/desktop_capture_gn/moz.build
+++ b/third_party/libwebrtc/modules/desktop_capture/desktop_capture_gn/moz.build
@@ -275,6 +275,35 @@ if CONFIG["TARGET_CPU"] == "arm":
         "/third_party/libwebrtc/modules/desktop_capture/linux/wayland/shared_screencast_stream.cc"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["WEBRTC_USE_X11"] = True
+    DEFINES["_GNU_SOURCE"] = True
+
+    OS_LIBS += [
+        "X11",
+        "Xcomposite",
+        "Xdamage",
+        "Xext",
+        "Xfixes",
+        "Xrandr",
+        "Xrender"
+    ]
+
+    UNIFIED_SOURCES += [
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/mouse_cursor_monitor_x11.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/screen_capturer_x11.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/shared_x_display.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/window_capturer_x11.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/window_finder_x11.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/window_list_utils.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/x_atom_cache.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/x_error_trap.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/x_server_pixel_buffer.cc",
+        "/third_party/libwebrtc/modules/desktop_capture/linux/x11/x_window_property.cc"
+    ]
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/desktop_capture/primitives_gn/moz.build b/third_party/libwebrtc/modules/desktop_capture/primitives_gn/moz.build
index a756a75542..6795abb4c8 100644
--- a/third_party/libwebrtc/modules/desktop_capture/primitives_gn/moz.build
+++ b/third_party/libwebrtc/modules/desktop_capture/primitives_gn/moz.build
@@ -130,6 +130,11 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_HAS_NEON"] = True
     DEFINES["_GNU_SOURCE"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["USE_X11"] = "1"
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/module_api_gn/moz.build b/third_party/libwebrtc/modules/module_api_gn/moz.build
index 93138efc2a..60c0ed8778 100644
--- a/third_party/libwebrtc/modules/module_api_gn/moz.build
+++ b/third_party/libwebrtc/modules/module_api_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/module_api_public_gn/moz.build b/third_party/libwebrtc/modules/module_api_public_gn/moz.build
index a223bb79ac..2c28b0b1c0 100644
--- a/third_party/libwebrtc/modules/module_api_public_gn/moz.build
+++ b/third_party/libwebrtc/modules/module_api_public_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/module_fec_api_gn/moz.build b/third_party/libwebrtc/modules/module_fec_api_gn/moz.build
index 8587ac914e..a1eca74eaa 100644
--- a/third_party/libwebrtc/modules/module_fec_api_gn/moz.build
+++ b/third_party/libwebrtc/modules/module_fec_api_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/pacing/interval_budget_gn/moz.build b/third_party/libwebrtc/modules/pacing/interval_budget_gn/moz.build
index 98d3648d09..0300737e26 100644
--- a/third_party/libwebrtc/modules/pacing/interval_budget_gn/moz.build
+++ b/third_party/libwebrtc/modules/pacing/interval_budget_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/pacing/pacing_gn/moz.build b/third_party/libwebrtc/modules/pacing/pacing_gn/moz.build
index cbacd73d3f..484e8af1df 100644
--- a/third_party/libwebrtc/modules/pacing/pacing_gn/moz.build
+++ b/third_party/libwebrtc/modules/pacing/pacing_gn/moz.build
@@ -159,6 +159,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/remote_bitrate_estimator/congestion_control_feedback_generator_gn/moz.build b/third_party/libwebrtc/modules/remote_bitrate_estimator/congestion_control_feedback_generator_gn/moz.build
index 41954c7023..01de5cae11 100644
--- a/third_party/libwebrtc/modules/remote_bitrate_estimator/congestion_control_feedback_generator_gn/moz.build
+++ b/third_party/libwebrtc/modules/remote_bitrate_estimator/congestion_control_feedback_generator_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build b/third_party/libwebrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build
index c520803e2f..4047187d26 100644
--- a/third_party/libwebrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build
+++ b/third_party/libwebrtc/modules/remote_bitrate_estimator/remote_bitrate_estimator_gn/moz.build
@@ -160,6 +160,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/remote_bitrate_estimator/rtp_transport_feedback_generator_gn/moz.build b/third_party/libwebrtc/modules/remote_bitrate_estimator/rtp_transport_feedback_generator_gn/moz.build
index faa3e1197f..81ce4981cd 100644
--- a/third_party/libwebrtc/modules/remote_bitrate_estimator/rtp_transport_feedback_generator_gn/moz.build
+++ b/third_party/libwebrtc/modules/remote_bitrate_estimator/rtp_transport_feedback_generator_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/remote_bitrate_estimator/transport_sequence_number_feedback_generator_gn/moz.build b/third_party/libwebrtc/modules/remote_bitrate_estimator/transport_sequence_number_feedback_generator_gn/moz.build
index f6beca0fa6..aeea39d877 100644
--- a/third_party/libwebrtc/modules/remote_bitrate_estimator/transport_sequence_number_feedback_generator_gn/moz.build
+++ b/third_party/libwebrtc/modules/remote_bitrate_estimator/transport_sequence_number_feedback_generator_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/rtp_rtcp/leb128_gn/moz.build b/third_party/libwebrtc/modules/rtp_rtcp/leb128_gn/moz.build
index 767d52dd28..2af40d70eb 100644
--- a/third_party/libwebrtc/modules/rtp_rtcp/leb128_gn/moz.build
+++ b/third_party/libwebrtc/modules/rtp_rtcp/leb128_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/rtp_rtcp/ntp_time_util_gn/moz.build b/third_party/libwebrtc/modules/rtp_rtcp/ntp_time_util_gn/moz.build
index f45d6b25a0..7fd7cad470 100644
--- a/third_party/libwebrtc/modules/rtp_rtcp/ntp_time_util_gn/moz.build
+++ b/third_party/libwebrtc/modules/rtp_rtcp/ntp_time_util_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build b/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build
index 2b4a66be33..55763bfa6b 100644
--- a/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build
+++ b/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_format_gn/moz.build
@@ -195,6 +195,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build b/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build
index 0247d1e1cb..b0c5446ca7 100644
--- a/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build
+++ b/third_party/libwebrtc/modules/rtp_rtcp/rtp_rtcp_gn/moz.build
@@ -206,6 +206,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/rtp_rtcp/rtp_video_header_gn/moz.build b/third_party/libwebrtc/modules/rtp_rtcp/rtp_video_header_gn/moz.build
index 7c7e31600f..ac07835974 100644
--- a/third_party/libwebrtc/modules/rtp_rtcp/rtp_video_header_gn/moz.build
+++ b/third_party/libwebrtc/modules/rtp_rtcp/rtp_video_header_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/third_party/fft/fft_gn/moz.build b/third_party/libwebrtc/modules/third_party/fft/fft_gn/moz.build
index 3d224d4948..0d6fa06ae4 100644
--- a/third_party/libwebrtc/modules/third_party/fft/fft_gn/moz.build
+++ b/third_party/libwebrtc/modules/third_party/fft/fft_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/third_party/g711/g711_3p_gn/moz.build b/third_party/libwebrtc/modules/third_party/g711/g711_3p_gn/moz.build
index 7abf56af72..212ac260ac 100644
--- a/third_party/libwebrtc/modules/third_party/g711/g711_3p_gn/moz.build
+++ b/third_party/libwebrtc/modules/third_party/g711/g711_3p_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/third_party/g722/g722_3p_gn/moz.build b/third_party/libwebrtc/modules/third_party/g722/g722_3p_gn/moz.build
index 0a7c16047e..4058bb9c62 100644
--- a/third_party/libwebrtc/modules/third_party/g722/g722_3p_gn/moz.build
+++ b/third_party/libwebrtc/modules/third_party/g722/g722_3p_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/utility/utility_gn/moz.build b/third_party/libwebrtc/modules/utility/utility_gn/moz.build
index 4f5c739ff7..ff98afc450 100644
--- a/third_party/libwebrtc/modules/utility/utility_gn/moz.build
+++ b/third_party/libwebrtc/modules/utility/utility_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build b/third_party/libwebrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build
index 6a98f1cce5..2e93aea476 100644
--- a/third_party/libwebrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_capture/video_capture_internal_impl_gn/moz.build
@@ -182,6 +182,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_capture/video_capture_module_gn/moz.build b/third_party/libwebrtc/modules/video_capture/video_capture_module_gn/moz.build
index 88bf038c19..8eb64eb08f 100644
--- a/third_party/libwebrtc/modules/video_capture/video_capture_module_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_capture/video_capture_module_gn/moz.build
@@ -155,6 +155,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/chain_diff_calculator_gn/moz.build b/third_party/libwebrtc/modules/video_coding/chain_diff_calculator_gn/moz.build
index 4124cdd664..5937538364 100644
--- a/third_party/libwebrtc/modules/video_coding/chain_diff_calculator_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/chain_diff_calculator_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/codec_globals_headers_gn/moz.build b/third_party/libwebrtc/modules/video_coding/codec_globals_headers_gn/moz.build
index 5e3c7dc8bb..0e376beeb4 100644
--- a/third_party/libwebrtc/modules/video_coding/codec_globals_headers_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/codec_globals_headers_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/codecs/av1/av1_svc_config_gn/moz.build b/third_party/libwebrtc/modules/video_coding/codecs/av1/av1_svc_config_gn/moz.build
index d5c1e9e6e5..fada354539 100644
--- a/third_party/libwebrtc/modules/video_coding/codecs/av1/av1_svc_config_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/codecs/av1/av1_svc_config_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/codecs/av1/dav1d_decoder_gn/moz.build b/third_party/libwebrtc/modules/video_coding/codecs/av1/dav1d_decoder_gn/moz.build
index 33cb2757d7..24fa539a5c 100644
--- a/third_party/libwebrtc/modules/video_coding/codecs/av1/dav1d_decoder_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/codecs/av1/dav1d_decoder_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/codecs/av1/libaom_av1_encoder_gn/moz.build b/third_party/libwebrtc/modules/video_coding/codecs/av1/libaom_av1_encoder_gn/moz.build
index d032911a12..24ceefe349 100644
--- a/third_party/libwebrtc/modules/video_coding/codecs/av1/libaom_av1_encoder_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/codecs/av1/libaom_av1_encoder_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/encoded_frame_gn/moz.build b/third_party/libwebrtc/modules/video_coding/encoded_frame_gn/moz.build
index 90ab84ba67..e58cb936c1 100644
--- a/third_party/libwebrtc/modules/video_coding/encoded_frame_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/encoded_frame_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/frame_dependencies_calculator_gn/moz.build b/third_party/libwebrtc/modules/video_coding/frame_dependencies_calculator_gn/moz.build
index 960bbd8ecc..0f2412610d 100644
--- a/third_party/libwebrtc/modules/video_coding/frame_dependencies_calculator_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/frame_dependencies_calculator_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/frame_helpers_gn/moz.build b/third_party/libwebrtc/modules/video_coding/frame_helpers_gn/moz.build
index cdf7693e41..60b5c7b7ec 100644
--- a/third_party/libwebrtc/modules/video_coding/frame_helpers_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/frame_helpers_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/h264_sprop_parameter_sets_gn/moz.build b/third_party/libwebrtc/modules/video_coding/h264_sprop_parameter_sets_gn/moz.build
index 44719f627d..ade14f4e1b 100644
--- a/third_party/libwebrtc/modules/video_coding/h264_sprop_parameter_sets_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/h264_sprop_parameter_sets_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/h26x_packet_buffer_gn/moz.build b/third_party/libwebrtc/modules/video_coding/h26x_packet_buffer_gn/moz.build
index 6cd7418dd2..011e05c41a 100644
--- a/third_party/libwebrtc/modules/video_coding/h26x_packet_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/h26x_packet_buffer_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/nack_requester_gn/moz.build b/third_party/libwebrtc/modules/video_coding/nack_requester_gn/moz.build
index 4c0798633a..bdb63a278c 100644
--- a/third_party/libwebrtc/modules/video_coding/nack_requester_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/nack_requester_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/packet_buffer_gn/moz.build b/third_party/libwebrtc/modules/video_coding/packet_buffer_gn/moz.build
index 60d91b6f44..cceabc3a79 100644
--- a/third_party/libwebrtc/modules/video_coding/packet_buffer_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/packet_buffer_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/svc/scalability_mode_util_gn/moz.build b/third_party/libwebrtc/modules/video_coding/svc/scalability_mode_util_gn/moz.build
index b32c7b5939..bc20befd07 100644
--- a/third_party/libwebrtc/modules/video_coding/svc/scalability_mode_util_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/svc/scalability_mode_util_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/svc/scalability_structures_gn/moz.build b/third_party/libwebrtc/modules/video_coding/svc/scalability_structures_gn/moz.build
index d12b6a88a8..a16034b3b0 100644
--- a/third_party/libwebrtc/modules/video_coding/svc/scalability_structures_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/svc/scalability_structures_gn/moz.build
@@ -154,6 +154,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/svc/scalable_video_controller_gn/moz.build b/third_party/libwebrtc/modules/video_coding/svc/scalable_video_controller_gn/moz.build
index aa7ebf0ac8..1217d027bd 100644
--- a/third_party/libwebrtc/modules/video_coding/svc/scalable_video_controller_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/svc/scalable_video_controller_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/svc/simulcast_to_svc_converter_gn/moz.build b/third_party/libwebrtc/modules/video_coding/svc/simulcast_to_svc_converter_gn/moz.build
index e8f35a8152..1c9b143c6d 100644
--- a/third_party/libwebrtc/modules/video_coding/svc/simulcast_to_svc_converter_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/svc/simulcast_to_svc_converter_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/svc/svc_rate_allocator_gn/moz.build b/third_party/libwebrtc/modules/video_coding/svc/svc_rate_allocator_gn/moz.build
index 5c6a272ba9..1f4d5e0258 100644
--- a/third_party/libwebrtc/modules/video_coding/svc/svc_rate_allocator_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/svc/svc_rate_allocator_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/decode_time_percentile_filter_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/decode_time_percentile_filter_gn/moz.build
index 90e567b601..a1f79bc336 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/decode_time_percentile_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/decode_time_percentile_filter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/frame_delay_variation_kalman_filter_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/frame_delay_variation_kalman_filter_gn/moz.build
index 7da8745ea0..236158a0ed 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/frame_delay_variation_kalman_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/frame_delay_variation_kalman_filter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/inter_frame_delay_variation_calculator_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/inter_frame_delay_variation_calculator_gn/moz.build
index 5f704b7d4b..46b966db47 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/inter_frame_delay_variation_calculator_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/inter_frame_delay_variation_calculator_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/jitter_estimator_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/jitter_estimator_gn/moz.build
index 8c3628e331..e5ab643a08 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/jitter_estimator_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/jitter_estimator_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/rtt_filter_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/rtt_filter_gn/moz.build
index 7c21826e42..018a8b4baf 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/rtt_filter_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/rtt_filter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/timestamp_extrapolator_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/timestamp_extrapolator_gn/moz.build
index 9a3d862572..6b0a5bd11f 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/timestamp_extrapolator_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/timestamp_extrapolator_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/timing/timing_module_gn/moz.build b/third_party/libwebrtc/modules/video_coding/timing/timing_module_gn/moz.build
index 6a279634bc..2c399005d5 100644
--- a/third_party/libwebrtc/modules/video_coding/timing/timing_module_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/timing/timing_module_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/video_codec_interface_gn/moz.build b/third_party/libwebrtc/modules/video_coding/video_codec_interface_gn/moz.build
index 7a9e8969bf..5f424f15c3 100644
--- a/third_party/libwebrtc/modules/video_coding/video_codec_interface_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/video_codec_interface_gn/moz.build
@@ -149,6 +149,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/video_coding_gn/moz.build b/third_party/libwebrtc/modules/video_coding/video_coding_gn/moz.build
index 26e4ea6b91..f12701855e 100644
--- a/third_party/libwebrtc/modules/video_coding/video_coding_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/video_coding_gn/moz.build
@@ -165,6 +165,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/video_coding_utility_gn/moz.build b/third_party/libwebrtc/modules/video_coding/video_coding_utility_gn/moz.build
index f40fcc2fb1..1b25580938 100644
--- a/third_party/libwebrtc/modules/video_coding/video_coding_utility_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/video_coding_utility_gn/moz.build
@@ -163,6 +163,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_h264_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_h264_gn/moz.build
index a30c741be2..c67f86066d 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_h264_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_h264_gn/moz.build
@@ -157,6 +157,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_libvpx_interface_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_libvpx_interface_gn/moz.build
index c3b935fb8f..9272a224c5 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_libvpx_interface_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_libvpx_interface_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_vp8_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_vp8_gn/moz.build
index e0e0119f88..aea179a464 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_vp8_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_vp8_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_vp8_scalability_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_vp8_scalability_gn/moz.build
index bfdff3aa75..1e543688ce 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_vp8_scalability_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_vp8_scalability_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_vp8_temporal_layers_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_vp8_temporal_layers_gn/moz.build
index 7d0f00180c..76d68e59a8 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_vp8_temporal_layers_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_vp8_temporal_layers_gn/moz.build
@@ -157,6 +157,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_vp9_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_vp9_gn/moz.build
index 5aa28b260d..d807360bfd 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_vp9_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_vp9_gn/moz.build
@@ -160,6 +160,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/modules/video_coding/webrtc_vp9_helpers_gn/moz.build b/third_party/libwebrtc/modules/video_coding/webrtc_vp9_helpers_gn/moz.build
index 2d6aa42a4f..a734c18d2c 100644
--- a/third_party/libwebrtc/modules/video_coding/webrtc_vp9_helpers_gn/moz.build
+++ b/third_party/libwebrtc/modules/video_coding/webrtc_vp9_helpers_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/moz.build b/third_party/libwebrtc/moz.build
index 27c58fba43..67a85b7b15 100644
--- a/third_party/libwebrtc/moz.build
+++ b/third_party/libwebrtc/moz.build
@@ -735,6 +735,13 @@ if CONFIG["OS_TARGET"] == "WINNT" and CONFIG["TARGET_CPU"] == "x86_64":
         "/third_party/libwebrtc/modules/desktop_capture/desktop_capture_differ_sse2_gn"
     ]
 
+if CONFIG["MOZ_X11"] == "1" and CONFIG["OS_TARGET"] == "Linux" and CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DIRS += [
+        "/third_party/libwebrtc/modules/desktop_capture/desktop_capture_gn",
+        "/third_party/libwebrtc/modules/desktop_capture/primitives_gn"
+    ]
+
 if CONFIG["MOZ_X11"] == "1" and CONFIG["OS_TARGET"] == "Linux" and CONFIG["TARGET_CPU"] == "ppc64":
 
     DIRS += [
diff --git a/third_party/libwebrtc/net/dcsctp/common/internal_types_gn/moz.build b/third_party/libwebrtc/net/dcsctp/common/internal_types_gn/moz.build
index 42c412e916..eca892f4b0 100644
--- a/third_party/libwebrtc/net/dcsctp/common/internal_types_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/common/internal_types_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/common/math_gn/moz.build b/third_party/libwebrtc/net/dcsctp/common/math_gn/moz.build
index 45d4b2901a..31a8282c2e 100644
--- a/third_party/libwebrtc/net/dcsctp/common/math_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/common/math_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/common/sequence_numbers_gn/moz.build b/third_party/libwebrtc/net/dcsctp/common/sequence_numbers_gn/moz.build
index c7df0758cb..a846f1a0d3 100644
--- a/third_party/libwebrtc/net/dcsctp/common/sequence_numbers_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/common/sequence_numbers_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/bounded_io_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/bounded_io_gn/moz.build
index 81bd3152dc..afa02fd16c 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/bounded_io_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/bounded_io_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/chunk_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/chunk_gn/moz.build
index b358f606a8..0b444ee87f 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/chunk_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/chunk_gn/moz.build
@@ -164,6 +164,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/chunk_validators_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/chunk_validators_gn/moz.build
index 39758d3ec9..98062c2706 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/chunk_validators_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/chunk_validators_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/crc32c_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/crc32c_gn/moz.build
index 12fc4018a2..70f2f24524 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/crc32c_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/crc32c_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/data_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/data_gn/moz.build
index 0fe7b7f3fa..7ecb713c41 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/data_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/data_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/error_cause_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/error_cause_gn/moz.build
index 7be82d4590..6a16d627ed 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/error_cause_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/error_cause_gn/moz.build
@@ -160,6 +160,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/parameter_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/parameter_gn/moz.build
index e1e605f07c..4502dede2e 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/parameter_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/parameter_gn/moz.build
@@ -158,6 +158,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/sctp_packet_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/sctp_packet_gn/moz.build
index 000fb68e8b..3b65e2e1c5 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/sctp_packet_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/sctp_packet_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/packet/tlv_trait_gn/moz.build b/third_party/libwebrtc/net/dcsctp/packet/tlv_trait_gn/moz.build
index 92d9c791a3..7760bdab33 100644
--- a/third_party/libwebrtc/net/dcsctp/packet/tlv_trait_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/packet/tlv_trait_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/public/factory_gn/moz.build b/third_party/libwebrtc/net/dcsctp/public/factory_gn/moz.build
index 0ccf0b11b1..d5c44cd7f5 100644
--- a/third_party/libwebrtc/net/dcsctp/public/factory_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/public/factory_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/public/socket_gn/moz.build b/third_party/libwebrtc/net/dcsctp/public/socket_gn/moz.build
index a5a1c383d7..17e62497fb 100644
--- a/third_party/libwebrtc/net/dcsctp/public/socket_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/public/socket_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/public/types_gn/moz.build b/third_party/libwebrtc/net/dcsctp/public/types_gn/moz.build
index 738f7d1c83..b7af89b085 100644
--- a/third_party/libwebrtc/net/dcsctp/public/types_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/public/types_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/rx/data_tracker_gn/moz.build b/third_party/libwebrtc/net/dcsctp/rx/data_tracker_gn/moz.build
index 282b5b121a..ed06ee415f 100644
--- a/third_party/libwebrtc/net/dcsctp/rx/data_tracker_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/rx/data_tracker_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/rx/interleaved_reassembly_streams_gn/moz.build b/third_party/libwebrtc/net/dcsctp/rx/interleaved_reassembly_streams_gn/moz.build
index 7fe9c904e5..7db6319dfa 100644
--- a/third_party/libwebrtc/net/dcsctp/rx/interleaved_reassembly_streams_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/rx/interleaved_reassembly_streams_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/rx/reassembly_queue_gn/moz.build b/third_party/libwebrtc/net/dcsctp/rx/reassembly_queue_gn/moz.build
index 00d8612b58..efa3604522 100644
--- a/third_party/libwebrtc/net/dcsctp/rx/reassembly_queue_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/rx/reassembly_queue_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/rx/reassembly_streams_gn/moz.build b/third_party/libwebrtc/net/dcsctp/rx/reassembly_streams_gn/moz.build
index f45dd96836..b829e624d3 100644
--- a/third_party/libwebrtc/net/dcsctp/rx/reassembly_streams_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/rx/reassembly_streams_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/rx/traditional_reassembly_streams_gn/moz.build b/third_party/libwebrtc/net/dcsctp/rx/traditional_reassembly_streams_gn/moz.build
index a5b2ca8dd2..f8e03b62eb 100644
--- a/third_party/libwebrtc/net/dcsctp/rx/traditional_reassembly_streams_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/rx/traditional_reassembly_streams_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/socket/context_gn/moz.build b/third_party/libwebrtc/net/dcsctp/socket/context_gn/moz.build
index b2c27a5a26..d6ae65b02e 100644
--- a/third_party/libwebrtc/net/dcsctp/socket/context_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/socket/context_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/socket/dcsctp_socket_gn/moz.build b/third_party/libwebrtc/net/dcsctp/socket/dcsctp_socket_gn/moz.build
index e5b83a6939..5077ef17d6 100644
--- a/third_party/libwebrtc/net/dcsctp/socket/dcsctp_socket_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/socket/dcsctp_socket_gn/moz.build
@@ -149,6 +149,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/socket/heartbeat_handler_gn/moz.build b/third_party/libwebrtc/net/dcsctp/socket/heartbeat_handler_gn/moz.build
index 9e54600314..754c30dabf 100644
--- a/third_party/libwebrtc/net/dcsctp/socket/heartbeat_handler_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/socket/heartbeat_handler_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/socket/packet_sender_gn/moz.build b/third_party/libwebrtc/net/dcsctp/socket/packet_sender_gn/moz.build
index 9b825fd8b1..4473e5cdb8 100644
--- a/third_party/libwebrtc/net/dcsctp/socket/packet_sender_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/socket/packet_sender_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/socket/stream_reset_handler_gn/moz.build b/third_party/libwebrtc/net/dcsctp/socket/stream_reset_handler_gn/moz.build
index ccd50a21d2..f740f1e281 100644
--- a/third_party/libwebrtc/net/dcsctp/socket/stream_reset_handler_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/socket/stream_reset_handler_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/socket/transmission_control_block_gn/moz.build b/third_party/libwebrtc/net/dcsctp/socket/transmission_control_block_gn/moz.build
index 0915a44c51..2f57383eed 100644
--- a/third_party/libwebrtc/net/dcsctp/socket/transmission_control_block_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/socket/transmission_control_block_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/timer/task_queue_timeout_gn/moz.build b/third_party/libwebrtc/net/dcsctp/timer/task_queue_timeout_gn/moz.build
index 6b5f233aaf..92d96b5a48 100644
--- a/third_party/libwebrtc/net/dcsctp/timer/task_queue_timeout_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/timer/task_queue_timeout_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/timer/timer_gn/moz.build b/third_party/libwebrtc/net/dcsctp/timer/timer_gn/moz.build
index ec59f30a40..e72d318f36 100644
--- a/third_party/libwebrtc/net/dcsctp/timer/timer_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/timer/timer_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/outstanding_data_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/outstanding_data_gn/moz.build
index f472b3e3c1..db4877c0eb 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/outstanding_data_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/outstanding_data_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/retransmission_error_counter_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/retransmission_error_counter_gn/moz.build
index 86208d5863..1d65b2c483 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/retransmission_error_counter_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/retransmission_error_counter_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/retransmission_queue_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/retransmission_queue_gn/moz.build
index d7f7b6466d..7b314599a9 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/retransmission_queue_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/retransmission_queue_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/retransmission_timeout_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/retransmission_timeout_gn/moz.build
index 9b6c975c21..65d68e0877 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/retransmission_timeout_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/retransmission_timeout_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/rr_send_queue_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/rr_send_queue_gn/moz.build
index c3f0156648..1cb8bd431e 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/rr_send_queue_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/rr_send_queue_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/send_queue_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/send_queue_gn/moz.build
index 963189857b..103522c30e 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/send_queue_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/send_queue_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/net/dcsctp/tx/stream_scheduler_gn/moz.build b/third_party/libwebrtc/net/dcsctp/tx/stream_scheduler_gn/moz.build
index ef026e0354..1617cd052c 100644
--- a/third_party/libwebrtc/net/dcsctp/tx/stream_scheduler_gn/moz.build
+++ b/third_party/libwebrtc/net/dcsctp/tx/stream_scheduler_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/async_dns_resolver_gn/moz.build b/third_party/libwebrtc/rtc_base/async_dns_resolver_gn/moz.build
index fc8abb0757..07281aa318 100644
--- a/third_party/libwebrtc/rtc_base/async_dns_resolver_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/async_dns_resolver_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/async_packet_socket_gn/moz.build b/third_party/libwebrtc/rtc_base/async_packet_socket_gn/moz.build
index 1fa7ab3482..59de36d84d 100644
--- a/third_party/libwebrtc/rtc_base/async_packet_socket_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/async_packet_socket_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/audio_format_to_string_gn/moz.build b/third_party/libwebrtc/rtc_base/audio_format_to_string_gn/moz.build
index b2eea4230c..2bb40d7b40 100644
--- a/third_party/libwebrtc/rtc_base/audio_format_to_string_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/audio_format_to_string_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/bit_buffer_gn/moz.build b/third_party/libwebrtc/rtc_base/bit_buffer_gn/moz.build
index 03e2b288bb..a97cbd0f0e 100644
--- a/third_party/libwebrtc/rtc_base/bit_buffer_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/bit_buffer_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/bitrate_tracker_gn/moz.build b/third_party/libwebrtc/rtc_base/bitrate_tracker_gn/moz.build
index a66b981774..48ec1d8b39 100644
--- a/third_party/libwebrtc/rtc_base/bitrate_tracker_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/bitrate_tracker_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/bitstream_reader_gn/moz.build b/third_party/libwebrtc/rtc_base/bitstream_reader_gn/moz.build
index 99a2dd108e..b6e5cdc256 100644
--- a/third_party/libwebrtc/rtc_base/bitstream_reader_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/bitstream_reader_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/buffer_gn/moz.build b/third_party/libwebrtc/rtc_base/buffer_gn/moz.build
index fcccc2b6fe..cb8c70cd12 100644
--- a/third_party/libwebrtc/rtc_base/buffer_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/buffer_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/byte_buffer_gn/moz.build b/third_party/libwebrtc/rtc_base/byte_buffer_gn/moz.build
index 6624cd3832..53412c1516 100644
--- a/third_party/libwebrtc/rtc_base/byte_buffer_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/byte_buffer_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/byte_order_gn/moz.build b/third_party/libwebrtc/rtc_base/byte_order_gn/moz.build
index 127aeefe5e..eb8960e92d 100644
--- a/third_party/libwebrtc/rtc_base/byte_order_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/byte_order_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/checks_gn/moz.build b/third_party/libwebrtc/rtc_base/checks_gn/moz.build
index 3bd23545b4..4009fff636 100644
--- a/third_party/libwebrtc/rtc_base/checks_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/checks_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/compile_assert_c_gn/moz.build b/third_party/libwebrtc/rtc_base/compile_assert_c_gn/moz.build
index fe0b93757a..758670919d 100644
--- a/third_party/libwebrtc/rtc_base/compile_assert_c_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/compile_assert_c_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/containers/flat_containers_internal_gn/moz.build b/third_party/libwebrtc/rtc_base/containers/flat_containers_internal_gn/moz.build
index 418b36c6ee..29e2f79407 100644
--- a/third_party/libwebrtc/rtc_base/containers/flat_containers_internal_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/containers/flat_containers_internal_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/containers/flat_map_gn/moz.build b/third_party/libwebrtc/rtc_base/containers/flat_map_gn/moz.build
index 3588529ba1..9bdb5b2ad8 100644
--- a/third_party/libwebrtc/rtc_base/containers/flat_map_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/containers/flat_map_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/containers/flat_set_gn/moz.build b/third_party/libwebrtc/rtc_base/containers/flat_set_gn/moz.build
index 77625fd5e2..43ac4165fb 100644
--- a/third_party/libwebrtc/rtc_base/containers/flat_set_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/containers/flat_set_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/copy_on_write_buffer_gn/moz.build b/third_party/libwebrtc/rtc_base/copy_on_write_buffer_gn/moz.build
index 5ba7ca97f5..d35d1ab479 100644
--- a/third_party/libwebrtc/rtc_base/copy_on_write_buffer_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/copy_on_write_buffer_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/criticalsection_gn/moz.build b/third_party/libwebrtc/rtc_base/criticalsection_gn/moz.build
index cd78ad2a9d..544b3575f3 100644
--- a/third_party/libwebrtc/rtc_base/criticalsection_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/criticalsection_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/divide_round_gn/moz.build b/third_party/libwebrtc/rtc_base/divide_round_gn/moz.build
index 6d91aca540..013c8ff945 100644
--- a/third_party/libwebrtc/rtc_base/divide_round_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/divide_round_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/dscp_gn/moz.build b/third_party/libwebrtc/rtc_base/dscp_gn/moz.build
index 9ced9d433b..8e779b7743 100644
--- a/third_party/libwebrtc/rtc_base/dscp_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/dscp_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/event_tracer_gn/moz.build b/third_party/libwebrtc/rtc_base/event_tracer_gn/moz.build
index 22031ad0c3..08d5d17f02 100644
--- a/third_party/libwebrtc/rtc_base/event_tracer_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/event_tracer_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/alr_experiment_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/alr_experiment_gn/moz.build
index 00754e71ca..84ed89ed87 100644
--- a/third_party/libwebrtc/rtc_base/experiments/alr_experiment_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/alr_experiment_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/balanced_degradation_settings_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/balanced_degradation_settings_gn/moz.build
index c07825d696..c9d63e7c29 100644
--- a/third_party/libwebrtc/rtc_base/experiments/balanced_degradation_settings_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/balanced_degradation_settings_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/encoder_info_settings_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/encoder_info_settings_gn/moz.build
index 7124a11537..3fe445b45d 100644
--- a/third_party/libwebrtc/rtc_base/experiments/encoder_info_settings_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/encoder_info_settings_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/field_trial_parser_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/field_trial_parser_gn/moz.build
index 26fbc81212..139b64b3d9 100644
--- a/third_party/libwebrtc/rtc_base/experiments/field_trial_parser_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/field_trial_parser_gn/moz.build
@@ -150,6 +150,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/keyframe_interval_settings_experiment_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/keyframe_interval_settings_experiment_gn/moz.build
index bead06448a..08398c40cf 100644
--- a/third_party/libwebrtc/rtc_base/experiments/keyframe_interval_settings_experiment_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/keyframe_interval_settings_experiment_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/min_video_bitrate_experiment_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/min_video_bitrate_experiment_gn/moz.build
index 4b3cf366d3..d8b7892933 100644
--- a/third_party/libwebrtc/rtc_base/experiments/min_video_bitrate_experiment_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/min_video_bitrate_experiment_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/normalize_simulcast_size_experiment_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/normalize_simulcast_size_experiment_gn/moz.build
index 0310b2c8f2..7e7af322ca 100644
--- a/third_party/libwebrtc/rtc_base/experiments/normalize_simulcast_size_experiment_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/normalize_simulcast_size_experiment_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/quality_scaler_settings_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/quality_scaler_settings_gn/moz.build
index fa4aebc9cd..2ffaf07d5c 100644
--- a/third_party/libwebrtc/rtc_base/experiments/quality_scaler_settings_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/quality_scaler_settings_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/quality_scaling_experiment_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/quality_scaling_experiment_gn/moz.build
index b6b6737015..bc0db9b773 100644
--- a/third_party/libwebrtc/rtc_base/experiments/quality_scaling_experiment_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/quality_scaling_experiment_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/rate_control_settings_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/rate_control_settings_gn/moz.build
index c3b8a9f198..6c3dc1ed38 100644
--- a/third_party/libwebrtc/rtc_base/experiments/rate_control_settings_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/rate_control_settings_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/experiments/stable_target_rate_experiment_gn/moz.build b/third_party/libwebrtc/rtc_base/experiments/stable_target_rate_experiment_gn/moz.build
index fe917e5d9f..a96bdf6553 100644
--- a/third_party/libwebrtc/rtc_base/experiments/stable_target_rate_experiment_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/experiments/stable_target_rate_experiment_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/frequency_tracker_gn/moz.build b/third_party/libwebrtc/rtc_base/frequency_tracker_gn/moz.build
index 2330a67e23..fd45f36c26 100644
--- a/third_party/libwebrtc/rtc_base/frequency_tracker_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/frequency_tracker_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/gtest_prod_gn/moz.build b/third_party/libwebrtc/rtc_base/gtest_prod_gn/moz.build
index 023a1bfb46..b4199a3116 100644
--- a/third_party/libwebrtc/rtc_base/gtest_prod_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/gtest_prod_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/histogram_percentile_counter_gn/moz.build b/third_party/libwebrtc/rtc_base/histogram_percentile_counter_gn/moz.build
index d9693a339c..e235da2187 100644
--- a/third_party/libwebrtc/rtc_base/histogram_percentile_counter_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/histogram_percentile_counter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/ignore_wundef_gn/moz.build b/third_party/libwebrtc/rtc_base/ignore_wundef_gn/moz.build
index ccf57d243c..a3761c6644 100644
--- a/third_party/libwebrtc/rtc_base/ignore_wundef_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/ignore_wundef_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/ip_address_gn/moz.build b/third_party/libwebrtc/rtc_base/ip_address_gn/moz.build
index 599011b788..8591a3b9be 100644
--- a/third_party/libwebrtc/rtc_base/ip_address_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/ip_address_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/logging_gn/moz.build b/third_party/libwebrtc/rtc_base/logging_gn/moz.build
index 1bf8ad041f..0121355ea1 100644
--- a/third_party/libwebrtc/rtc_base/logging_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/logging_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/macromagic_gn/moz.build b/third_party/libwebrtc/rtc_base/macromagic_gn/moz.build
index fd6a7ed358..fb0141f999 100644
--- a/third_party/libwebrtc/rtc_base/macromagic_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/macromagic_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/memory/aligned_malloc_gn/moz.build b/third_party/libwebrtc/rtc_base/memory/aligned_malloc_gn/moz.build
index 4cdb7dc957..1965f7ec53 100644
--- a/third_party/libwebrtc/rtc_base/memory/aligned_malloc_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/memory/aligned_malloc_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/mod_ops_gn/moz.build b/third_party/libwebrtc/rtc_base/mod_ops_gn/moz.build
index 8662881c50..1b552f64a7 100644
--- a/third_party/libwebrtc/rtc_base/mod_ops_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/mod_ops_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/moving_max_counter_gn/moz.build b/third_party/libwebrtc/rtc_base/moving_max_counter_gn/moz.build
index 8b77e8aef6..c3715c2c6b 100644
--- a/third_party/libwebrtc/rtc_base/moving_max_counter_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/moving_max_counter_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/net_helpers_gn/moz.build b/third_party/libwebrtc/rtc_base/net_helpers_gn/moz.build
index 75e553cc32..33488c6551 100644
--- a/third_party/libwebrtc/rtc_base/net_helpers_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/net_helpers_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/network/ecn_marking_gn/moz.build b/third_party/libwebrtc/rtc_base/network/ecn_marking_gn/moz.build
index e143fc3b34..6c4cd224b9 100644
--- a/third_party/libwebrtc/rtc_base/network/ecn_marking_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/network/ecn_marking_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/network/sent_packet_gn/moz.build b/third_party/libwebrtc/rtc_base/network/sent_packet_gn/moz.build
index 74a8daff5a..04b51f0502 100644
--- a/third_party/libwebrtc/rtc_base/network/sent_packet_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/network/sent_packet_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/network_constants_gn/moz.build b/third_party/libwebrtc/rtc_base/network_constants_gn/moz.build
index ee445594cc..b8fb244a8e 100644
--- a/third_party/libwebrtc/rtc_base/network_constants_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/network_constants_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/network_route_gn/moz.build b/third_party/libwebrtc/rtc_base/network_route_gn/moz.build
index 6a7a271b1a..2f552b99a2 100644
--- a/third_party/libwebrtc/rtc_base/network_route_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/network_route_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/null_socket_server_gn/moz.build b/third_party/libwebrtc/rtc_base/null_socket_server_gn/moz.build
index fca2b0bcdb..c07ee42a47 100644
--- a/third_party/libwebrtc/rtc_base/null_socket_server_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/null_socket_server_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/one_time_event_gn/moz.build b/third_party/libwebrtc/rtc_base/one_time_event_gn/moz.build
index e3f2feccac..11bbb05fa7 100644
--- a/third_party/libwebrtc/rtc_base/one_time_event_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/one_time_event_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/platform_thread_gn/moz.build b/third_party/libwebrtc/rtc_base/platform_thread_gn/moz.build
index da1566f7a8..945e2783d6 100644
--- a/third_party/libwebrtc/rtc_base/platform_thread_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/platform_thread_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/platform_thread_types_gn/moz.build b/third_party/libwebrtc/rtc_base/platform_thread_types_gn/moz.build
index 7153b62351..48c27d813e 100644
--- a/third_party/libwebrtc/rtc_base/platform_thread_types_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/platform_thread_types_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/protobuf_utils_gn/moz.build b/third_party/libwebrtc/rtc_base/protobuf_utils_gn/moz.build
index 4a9ef9c77c..668f1d0a98 100644
--- a/third_party/libwebrtc/rtc_base/protobuf_utils_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/protobuf_utils_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/race_checker_gn/moz.build b/third_party/libwebrtc/rtc_base/race_checker_gn/moz.build
index 7af463c609..6d2ee3c0a0 100644
--- a/third_party/libwebrtc/rtc_base/race_checker_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/race_checker_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/random_gn/moz.build b/third_party/libwebrtc/rtc_base/random_gn/moz.build
index 6ab9690781..38d713e123 100644
--- a/third_party/libwebrtc/rtc_base/random_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/random_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/rate_limiter_gn/moz.build b/third_party/libwebrtc/rtc_base/rate_limiter_gn/moz.build
index b251922a71..8827194a0d 100644
--- a/third_party/libwebrtc/rtc_base/rate_limiter_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/rate_limiter_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/rate_statistics_gn/moz.build b/third_party/libwebrtc/rtc_base/rate_statistics_gn/moz.build
index 9aaf50bca9..88038145cf 100644
--- a/third_party/libwebrtc/rtc_base/rate_statistics_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/rate_statistics_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/rate_tracker_gn/moz.build b/third_party/libwebrtc/rtc_base/rate_tracker_gn/moz.build
index 5bc2da784e..bd0629bfa0 100644
--- a/third_party/libwebrtc/rtc_base/rate_tracker_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/rate_tracker_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/refcount_gn/moz.build b/third_party/libwebrtc/rtc_base/refcount_gn/moz.build
index bee5514f15..3595a7a13a 100644
--- a/third_party/libwebrtc/rtc_base/refcount_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/refcount_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/rolling_accumulator_gn/moz.build b/third_party/libwebrtc/rtc_base/rolling_accumulator_gn/moz.build
index 803213005d..daf579df35 100644
--- a/third_party/libwebrtc/rtc_base/rolling_accumulator_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/rolling_accumulator_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/rtc_event_gn/moz.build b/third_party/libwebrtc/rtc_base/rtc_event_gn/moz.build
index 063db2ee47..f01e48e213 100644
--- a/third_party/libwebrtc/rtc_base/rtc_event_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/rtc_event_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/rtc_numerics_gn/moz.build b/third_party/libwebrtc/rtc_base/rtc_numerics_gn/moz.build
index 9f2243677b..9c7b0c6d3f 100644
--- a/third_party/libwebrtc/rtc_base/rtc_numerics_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/rtc_numerics_gn/moz.build
@@ -142,6 +142,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/safe_compare_gn/moz.build b/third_party/libwebrtc/rtc_base/safe_compare_gn/moz.build
index 1087883593..80d295aa9d 100644
--- a/third_party/libwebrtc/rtc_base/safe_compare_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/safe_compare_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/safe_conversions_gn/moz.build b/third_party/libwebrtc/rtc_base/safe_conversions_gn/moz.build
index 802047cc77..c9b97cb7ed 100644
--- a/third_party/libwebrtc/rtc_base/safe_conversions_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/safe_conversions_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/safe_minmax_gn/moz.build b/third_party/libwebrtc/rtc_base/safe_minmax_gn/moz.build
index 51a8bccde5..50e6173fcc 100644
--- a/third_party/libwebrtc/rtc_base/safe_minmax_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/safe_minmax_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/sample_counter_gn/moz.build b/third_party/libwebrtc/rtc_base/sample_counter_gn/moz.build
index b6443c8417..4ffa48a120 100644
--- a/third_party/libwebrtc/rtc_base/sample_counter_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/sample_counter_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/sanitizer_gn/moz.build b/third_party/libwebrtc/rtc_base/sanitizer_gn/moz.build
index 9f21e2e72c..a860a9f728 100644
--- a/third_party/libwebrtc/rtc_base/sanitizer_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/sanitizer_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/socket_address_gn/moz.build b/third_party/libwebrtc/rtc_base/socket_address_gn/moz.build
index 4cdbbe0aaf..04cba77cbb 100644
--- a/third_party/libwebrtc/rtc_base/socket_address_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/socket_address_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/socket_factory_gn/moz.build b/third_party/libwebrtc/rtc_base/socket_factory_gn/moz.build
index 7e6b11eae1..f3356c04b4 100644
--- a/third_party/libwebrtc/rtc_base/socket_factory_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/socket_factory_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/socket_gn/moz.build b/third_party/libwebrtc/rtc_base/socket_gn/moz.build
index 7eaab676cf..edca3916c1 100644
--- a/third_party/libwebrtc/rtc_base/socket_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/socket_gn/moz.build
@@ -148,6 +148,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/socket_server_gn/moz.build b/third_party/libwebrtc/rtc_base/socket_server_gn/moz.build
index 36a1cf9d6a..942e81926f 100644
--- a/third_party/libwebrtc/rtc_base/socket_server_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/socket_server_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/ssl_adapter_gn/moz.build b/third_party/libwebrtc/rtc_base/ssl_adapter_gn/moz.build
index 6038eb7549..75ac6a6be2 100644
--- a/third_party/libwebrtc/rtc_base/ssl_adapter_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/ssl_adapter_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/ssl_gn/moz.build b/third_party/libwebrtc/rtc_base/ssl_gn/moz.build
index 5884930468..e3472674ce 100644
--- a/third_party/libwebrtc/rtc_base/ssl_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/ssl_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/stringutils_gn/moz.build b/third_party/libwebrtc/rtc_base/stringutils_gn/moz.build
index 043cf12678..3a9379a6bc 100644
--- a/third_party/libwebrtc/rtc_base/stringutils_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/stringutils_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/strong_alias_gn/moz.build b/third_party/libwebrtc/rtc_base/strong_alias_gn/moz.build
index 1482128adf..f095e4d464 100644
--- a/third_party/libwebrtc/rtc_base/strong_alias_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/strong_alias_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/swap_queue_gn/moz.build b/third_party/libwebrtc/rtc_base/swap_queue_gn/moz.build
index 02df0bc1e9..3fc5f7cf3d 100644
--- a/third_party/libwebrtc/rtc_base/swap_queue_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/swap_queue_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/synchronization/mutex_gn/moz.build b/third_party/libwebrtc/rtc_base/synchronization/mutex_gn/moz.build
index c3a4d84e01..ba727290af 100644
--- a/third_party/libwebrtc/rtc_base/synchronization/mutex_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/synchronization/mutex_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/synchronization/sequence_checker_internal_gn/moz.build b/third_party/libwebrtc/rtc_base/synchronization/sequence_checker_internal_gn/moz.build
index 6dbc327072..570234e8e2 100644
--- a/third_party/libwebrtc/rtc_base/synchronization/sequence_checker_internal_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/synchronization/sequence_checker_internal_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/synchronization/yield_gn/moz.build b/third_party/libwebrtc/rtc_base/synchronization/yield_gn/moz.build
index abbfb7d88f..662dc4ca7a 100644
--- a/third_party/libwebrtc/rtc_base/synchronization/yield_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/synchronization/yield_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/synchronization/yield_policy_gn/moz.build b/third_party/libwebrtc/rtc_base/synchronization/yield_policy_gn/moz.build
index 431b04bd3e..45cb36beec 100644
--- a/third_party/libwebrtc/rtc_base/synchronization/yield_policy_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/synchronization/yield_policy_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/arch_gn/moz.build b/third_party/libwebrtc/rtc_base/system/arch_gn/moz.build
index 94147d2384..c3db5cb3de 100644
--- a/third_party/libwebrtc/rtc_base/system/arch_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/arch_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/file_wrapper_gn/moz.build b/third_party/libwebrtc/rtc_base/system/file_wrapper_gn/moz.build
index 872970190e..c5dee909a2 100644
--- a/third_party/libwebrtc/rtc_base/system/file_wrapper_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/file_wrapper_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/ignore_warnings_gn/moz.build b/third_party/libwebrtc/rtc_base/system/ignore_warnings_gn/moz.build
index 588adc9c5f..5d57390d53 100644
--- a/third_party/libwebrtc/rtc_base/system/ignore_warnings_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/ignore_warnings_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/inline_gn/moz.build b/third_party/libwebrtc/rtc_base/system/inline_gn/moz.build
index 3cd97d6312..a7d22c9d0e 100644
--- a/third_party/libwebrtc/rtc_base/system/inline_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/inline_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/no_unique_address_gn/moz.build b/third_party/libwebrtc/rtc_base/system/no_unique_address_gn/moz.build
index e7146144ea..790097730f 100644
--- a/third_party/libwebrtc/rtc_base/system/no_unique_address_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/no_unique_address_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/rtc_export_gn/moz.build b/third_party/libwebrtc/rtc_base/system/rtc_export_gn/moz.build
index 3b024cb8e1..5fc704343e 100644
--- a/third_party/libwebrtc/rtc_base/system/rtc_export_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/rtc_export_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/unused_gn/moz.build b/third_party/libwebrtc/rtc_base/system/unused_gn/moz.build
index 8d92ad4ae3..f7b9e968bc 100644
--- a/third_party/libwebrtc/rtc_base/system/unused_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/unused_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/system/warn_current_thread_is_deadlocked_gn/moz.build b/third_party/libwebrtc/rtc_base/system/warn_current_thread_is_deadlocked_gn/moz.build
index 7afddc34d9..5fcc0bfdb8 100644
--- a/third_party/libwebrtc/rtc_base/system/warn_current_thread_is_deadlocked_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/system/warn_current_thread_is_deadlocked_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/task_utils/repeating_task_gn/moz.build b/third_party/libwebrtc/rtc_base/task_utils/repeating_task_gn/moz.build
index a08d15db63..7cf1e2075a 100644
--- a/third_party/libwebrtc/rtc_base/task_utils/repeating_task_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/task_utils/repeating_task_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/third_party/base64/base64_gn/moz.build b/third_party/libwebrtc/rtc_base/third_party/base64/base64_gn/moz.build
index 9066404bc9..6450a0f93d 100644
--- a/third_party/libwebrtc/rtc_base/third_party/base64/base64_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/third_party/base64/base64_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/third_party/sigslot/sigslot_gn/moz.build b/third_party/libwebrtc/rtc_base/third_party/sigslot/sigslot_gn/moz.build
index 160751ed9c..c49d143880 100644
--- a/third_party/libwebrtc/rtc_base/third_party/sigslot/sigslot_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/third_party/sigslot/sigslot_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/threading_gn/moz.build b/third_party/libwebrtc/rtc_base/threading_gn/moz.build
index 6568873a7e..e7736326f8 100644
--- a/third_party/libwebrtc/rtc_base/threading_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/threading_gn/moz.build
@@ -167,6 +167,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/timeutils_gn/moz.build b/third_party/libwebrtc/rtc_base/timeutils_gn/moz.build
index 0c8184e377..d0e0c96483 100644
--- a/third_party/libwebrtc/rtc_base/timeutils_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/timeutils_gn/moz.build
@@ -149,6 +149,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/type_traits_gn/moz.build b/third_party/libwebrtc/rtc_base/type_traits_gn/moz.build
index 38efb9bc48..53e285beef 100644
--- a/third_party/libwebrtc/rtc_base/type_traits_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/type_traits_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/unique_id_generator_gn/moz.build b/third_party/libwebrtc/rtc_base/unique_id_generator_gn/moz.build
index 7b5ecf6a0c..20c6f058f6 100644
--- a/third_party/libwebrtc/rtc_base/unique_id_generator_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/unique_id_generator_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/units/unit_base_gn/moz.build b/third_party/libwebrtc/rtc_base/units/unit_base_gn/moz.build
index d08129d5ef..8a5700f891 100644
--- a/third_party/libwebrtc/rtc_base/units/unit_base_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/units/unit_base_gn/moz.build
@@ -132,6 +132,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/weak_ptr_gn/moz.build b/third_party/libwebrtc/rtc_base/weak_ptr_gn/moz.build
index 7cdfa4215e..037497b885 100644
--- a/third_party/libwebrtc/rtc_base/weak_ptr_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/weak_ptr_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/rtc_base/zero_memory_gn/moz.build b/third_party/libwebrtc/rtc_base/zero_memory_gn/moz.build
index 6e9d4c6f26..6571d66100 100644
--- a/third_party/libwebrtc/rtc_base/zero_memory_gn/moz.build
+++ b/third_party/libwebrtc/rtc_base/zero_memory_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/system_wrappers/denormal_disabler_gn/moz.build b/third_party/libwebrtc/system_wrappers/denormal_disabler_gn/moz.build
index 121fdcf9ba..12ee5d255f 100644
--- a/third_party/libwebrtc/system_wrappers/denormal_disabler_gn/moz.build
+++ b/third_party/libwebrtc/system_wrappers/denormal_disabler_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/system_wrappers/field_trial_gn/moz.build b/third_party/libwebrtc/system_wrappers/field_trial_gn/moz.build
index af17d92bd5..2c548ba00f 100644
--- a/third_party/libwebrtc/system_wrappers/field_trial_gn/moz.build
+++ b/third_party/libwebrtc/system_wrappers/field_trial_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/system_wrappers/metrics_gn/moz.build b/third_party/libwebrtc/system_wrappers/metrics_gn/moz.build
index 5967d9b1a6..57f648c68c 100644
--- a/third_party/libwebrtc/system_wrappers/metrics_gn/moz.build
+++ b/third_party/libwebrtc/system_wrappers/metrics_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/system_wrappers/system_wrappers_gn/moz.build b/third_party/libwebrtc/system_wrappers/system_wrappers_gn/moz.build
index ac84bace6e..315dc3c5a1 100644
--- a/third_party/libwebrtc/system_wrappers/system_wrappers_gn/moz.build
+++ b/third_party/libwebrtc/system_wrappers/system_wrappers_gn/moz.build
@@ -165,6 +165,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/test/network/simulated_network_gn/moz.build b/third_party/libwebrtc/test/network/simulated_network_gn/moz.build
index a2f3761b98..eef00c7589 100644
--- a/third_party/libwebrtc/test/network/simulated_network_gn/moz.build
+++ b/third_party/libwebrtc/test/network/simulated_network_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/test/rtp_test_utils_gn/moz.build b/third_party/libwebrtc/test/rtp_test_utils_gn/moz.build
index fc88c173de..8ba53a9569 100644
--- a/third_party/libwebrtc/test/rtp_test_utils_gn/moz.build
+++ b/third_party/libwebrtc/test/rtp_test_utils_gn/moz.build
@@ -144,6 +144,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/third_party/crc32c/crc32c_arm64_gn/moz.build b/third_party/libwebrtc/third_party/crc32c/crc32c_arm64_gn/moz.build
index 0da83a9219..d98bce783d 100644
--- a/third_party/libwebrtc/third_party/crc32c/crc32c_arm64_gn/moz.build
+++ b/third_party/libwebrtc/third_party/crc32c/crc32c_arm64_gn/moz.build
@@ -128,6 +128,11 @@ if CONFIG["TARGET_CPU"] == "arm":
 
     DEFINES["HAVE_MM_PREFETCH"] = "0"
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["HAVE_MM_PREFETCH"] = "0"
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["HAVE_MM_PREFETCH"] = "0"
diff --git a/third_party/libwebrtc/third_party/crc32c/crc32c_gn/moz.build b/third_party/libwebrtc/third_party/crc32c/crc32c_gn/moz.build
index 02bd56fbd4..54cb56e40a 100644
--- a/third_party/libwebrtc/third_party/crc32c/crc32c_gn/moz.build
+++ b/third_party/libwebrtc/third_party/crc32c/crc32c_gn/moz.build
@@ -129,6 +129,11 @@ if CONFIG["TARGET_CPU"] == "arm":
 
     DEFINES["HAVE_MM_PREFETCH"] = "0"
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["HAVE_MM_PREFETCH"] = "0"
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["HAVE_MM_PREFETCH"] = "0"
diff --git a/third_party/libwebrtc/third_party/crc32c/crc32c_internal_headers_gn/moz.build b/third_party/libwebrtc/third_party/crc32c/crc32c_internal_headers_gn/moz.build
index 86c319ca05..80580f19b4 100644
--- a/third_party/libwebrtc/third_party/crc32c/crc32c_internal_headers_gn/moz.build
+++ b/third_party/libwebrtc/third_party/crc32c/crc32c_internal_headers_gn/moz.build
@@ -94,6 +94,10 @@ if CONFIG["OS_TARGET"] == "WINNT":
     DEFINES["_WINDOWS"] = True
     DEFINES["__STD_C"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["_GNU_SOURCE"] = True
diff --git a/third_party/libwebrtc/third_party/crc32c/crc32c_sse42_gn/moz.build b/third_party/libwebrtc/third_party/crc32c/crc32c_sse42_gn/moz.build
index 6d124a3762..d06b3dade2 100644
--- a/third_party/libwebrtc/third_party/crc32c/crc32c_sse42_gn/moz.build
+++ b/third_party/libwebrtc/third_party/crc32c/crc32c_sse42_gn/moz.build
@@ -128,6 +128,11 @@ if CONFIG["TARGET_CPU"] == "arm":
 
     DEFINES["HAVE_MM_PREFETCH"] = "0"
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["HAVE_MM_PREFETCH"] = "0"
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["HAVE_MM_PREFETCH"] = "0"
diff --git a/third_party/libwebrtc/third_party/dav1d/dav1d_gn/moz.build b/third_party/libwebrtc/third_party/dav1d/dav1d_gn/moz.build
index b7e4f6fe3f..3773aea3b3 100644
--- a/third_party/libwebrtc/third_party/dav1d/dav1d_gn/moz.build
+++ b/third_party/libwebrtc/third_party/dav1d/dav1d_gn/moz.build
@@ -130,6 +130,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/third_party/libaom/libaom_gn/moz.build b/third_party/libwebrtc/third_party/libaom/libaom_gn/moz.build
index a05efa9c4a..8a8fc71f17 100644
--- a/third_party/libwebrtc/third_party/libaom/libaom_gn/moz.build
+++ b/third_party/libwebrtc/third_party/libaom/libaom_gn/moz.build
@@ -128,6 +128,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/third_party/libyuv/libyuv_gn/moz.build b/third_party/libwebrtc/third_party/libyuv/libyuv_gn/moz.build
index 0684aa2535..4a72444177 100644
--- a/third_party/libwebrtc/third_party/libyuv/libyuv_gn/moz.build
+++ b/third_party/libwebrtc/third_party/libyuv/libyuv_gn/moz.build
@@ -130,6 +130,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/third_party/pffft/pffft_gn/moz.build b/third_party/libwebrtc/third_party/pffft/pffft_gn/moz.build
index 836a04a7c7..dc7c06ffc2 100644
--- a/third_party/libwebrtc/third_party/pffft/pffft_gn/moz.build
+++ b/third_party/libwebrtc/third_party/pffft/pffft_gn/moz.build
@@ -105,6 +105,11 @@ if CONFIG["TARGET_CPU"] == "arm":
         "-mfpu=neon"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["PFFFT_SIMD_DISABLE"] = True
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["PFFFT_SIMD_DISABLE"] = True
diff --git a/third_party/libwebrtc/third_party/rnnoise/rnn_vad_gn/moz.build b/third_party/libwebrtc/third_party/rnnoise/rnn_vad_gn/moz.build
index b10b4c330e..2dfd79a68c 100644
--- a/third_party/libwebrtc/third_party/rnnoise/rnn_vad_gn/moz.build
+++ b/third_party/libwebrtc/third_party/rnnoise/rnn_vad_gn/moz.build
@@ -104,6 +104,10 @@ if CONFIG["TARGET_CPU"] == "arm":
         "-mfpu=neon"
     ]
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["_GNU_SOURCE"] = True
diff --git a/third_party/libwebrtc/video/adaptation/video_adaptation_gn/moz.build b/third_party/libwebrtc/video/adaptation/video_adaptation_gn/moz.build
index 7872540d15..07c16154f9 100644
--- a/third_party/libwebrtc/video/adaptation/video_adaptation_gn/moz.build
+++ b/third_party/libwebrtc/video/adaptation/video_adaptation_gn/moz.build
@@ -160,6 +160,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/config/encoder_config_gn/moz.build b/third_party/libwebrtc/video/config/encoder_config_gn/moz.build
index f7222a0442..b48b001014 100644
--- a/third_party/libwebrtc/video/config/encoder_config_gn/moz.build
+++ b/third_party/libwebrtc/video/config/encoder_config_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/config/streams_config_gn/moz.build b/third_party/libwebrtc/video/config/streams_config_gn/moz.build
index 314bbfae9c..b3f38848dd 100644
--- a/third_party/libwebrtc/video/config/streams_config_gn/moz.build
+++ b/third_party/libwebrtc/video/config/streams_config_gn/moz.build
@@ -153,6 +153,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/corruption_detection/corruption_classifier_gn/moz.build b/third_party/libwebrtc/video/corruption_detection/corruption_classifier_gn/moz.build
index ea767b9d0c..6aeed82590 100644
--- a/third_party/libwebrtc/video/corruption_detection/corruption_classifier_gn/moz.build
+++ b/third_party/libwebrtc/video/corruption_detection/corruption_classifier_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_evaluation_gn/moz.build b/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_evaluation_gn/moz.build
index a7e1e8b561..9e7ad18b24 100644
--- a/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_evaluation_gn/moz.build
+++ b/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_evaluation_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_generator_gn/moz.build b/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_generator_gn/moz.build
index ed6bd46f00..5a1b79701b 100644
--- a/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_generator_gn/moz.build
+++ b/third_party/libwebrtc/video/corruption_detection/frame_instrumentation_generator_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/corruption_detection/generic_mapping_functions_gn/moz.build b/third_party/libwebrtc/video/corruption_detection/generic_mapping_functions_gn/moz.build
index f646a6f799..0e7ce07afb 100644
--- a/third_party/libwebrtc/video/corruption_detection/generic_mapping_functions_gn/moz.build
+++ b/third_party/libwebrtc/video/corruption_detection/generic_mapping_functions_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/corruption_detection/halton_frame_sampler_gn/moz.build b/third_party/libwebrtc/video/corruption_detection/halton_frame_sampler_gn/moz.build
index 0b1c0347e5..99c1fae314 100644
--- a/third_party/libwebrtc/video/corruption_detection/halton_frame_sampler_gn/moz.build
+++ b/third_party/libwebrtc/video/corruption_detection/halton_frame_sampler_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/corruption_detection/halton_sequence_gn/moz.build b/third_party/libwebrtc/video/corruption_detection/halton_sequence_gn/moz.build
index f384019ab5..ffcf6099f6 100644
--- a/third_party/libwebrtc/video/corruption_detection/halton_sequence_gn/moz.build
+++ b/third_party/libwebrtc/video/corruption_detection/halton_sequence_gn/moz.build
@@ -140,6 +140,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/decode_synchronizer_gn/moz.build b/third_party/libwebrtc/video/decode_synchronizer_gn/moz.build
index 1e0e61b85b..d41c0c6b29 100644
--- a/third_party/libwebrtc/video/decode_synchronizer_gn/moz.build
+++ b/third_party/libwebrtc/video/decode_synchronizer_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/frame_cadence_adapter_gn/moz.build b/third_party/libwebrtc/video/frame_cadence_adapter_gn/moz.build
index c0f6ea8620..5b2a99954c 100644
--- a/third_party/libwebrtc/video/frame_cadence_adapter_gn/moz.build
+++ b/third_party/libwebrtc/video/frame_cadence_adapter_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/frame_decode_scheduler_gn/moz.build b/third_party/libwebrtc/video/frame_decode_scheduler_gn/moz.build
index 703aefc182..6859cfa6b9 100644
--- a/third_party/libwebrtc/video/frame_decode_scheduler_gn/moz.build
+++ b/third_party/libwebrtc/video/frame_decode_scheduler_gn/moz.build
@@ -143,6 +143,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/frame_decode_timing_gn/moz.build b/third_party/libwebrtc/video/frame_decode_timing_gn/moz.build
index 6f573eb0d3..8ef09f2eec 100644
--- a/third_party/libwebrtc/video/frame_decode_timing_gn/moz.build
+++ b/third_party/libwebrtc/video/frame_decode_timing_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/frame_dumping_decoder_gn/moz.build b/third_party/libwebrtc/video/frame_dumping_decoder_gn/moz.build
index f729fb7155..f76bfc61db 100644
--- a/third_party/libwebrtc/video/frame_dumping_decoder_gn/moz.build
+++ b/third_party/libwebrtc/video/frame_dumping_decoder_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/frame_dumping_encoder_gn/moz.build b/third_party/libwebrtc/video/frame_dumping_encoder_gn/moz.build
index e28ac4d4fb..c4bad70617 100644
--- a/third_party/libwebrtc/video/frame_dumping_encoder_gn/moz.build
+++ b/third_party/libwebrtc/video/frame_dumping_encoder_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/render/incoming_video_stream_gn/moz.build b/third_party/libwebrtc/video/render/incoming_video_stream_gn/moz.build
index 3c7c921b7b..092bbc95e2 100644
--- a/third_party/libwebrtc/video/render/incoming_video_stream_gn/moz.build
+++ b/third_party/libwebrtc/video/render/incoming_video_stream_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/render/video_render_frames_gn/moz.build b/third_party/libwebrtc/video/render/video_render_frames_gn/moz.build
index 44fc03ce48..39558b4b3e 100644
--- a/third_party/libwebrtc/video/render/video_render_frames_gn/moz.build
+++ b/third_party/libwebrtc/video/render/video_render_frames_gn/moz.build
@@ -147,6 +147,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/task_queue_frame_decode_scheduler_gn/moz.build b/third_party/libwebrtc/video/task_queue_frame_decode_scheduler_gn/moz.build
index 66ecc9990c..f4f66565f4 100644
--- a/third_party/libwebrtc/video/task_queue_frame_decode_scheduler_gn/moz.build
+++ b/third_party/libwebrtc/video/task_queue_frame_decode_scheduler_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/unique_timestamp_counter_gn/moz.build b/third_party/libwebrtc/video/unique_timestamp_counter_gn/moz.build
index bb2500407d..29ff4759b5 100644
--- a/third_party/libwebrtc/video/unique_timestamp_counter_gn/moz.build
+++ b/third_party/libwebrtc/video/unique_timestamp_counter_gn/moz.build
@@ -136,6 +136,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/video_gn/moz.build b/third_party/libwebrtc/video/video_gn/moz.build
index f975c86731..edf7a88ed7 100644
--- a/third_party/libwebrtc/video/video_gn/moz.build
+++ b/third_party/libwebrtc/video/video_gn/moz.build
@@ -171,6 +171,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/video_receive_stream_timeout_tracker_gn/moz.build b/third_party/libwebrtc/video/video_receive_stream_timeout_tracker_gn/moz.build
index c60919935a..d530ed77f2 100644
--- a/third_party/libwebrtc/video/video_receive_stream_timeout_tracker_gn/moz.build
+++ b/third_party/libwebrtc/video/video_receive_stream_timeout_tracker_gn/moz.build
@@ -151,6 +151,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/video_stream_buffer_controller_gn/moz.build b/third_party/libwebrtc/video/video_stream_buffer_controller_gn/moz.build
index 9ff1fa1f42..c53b093328 100644
--- a/third_party/libwebrtc/video/video_stream_buffer_controller_gn/moz.build
+++ b/third_party/libwebrtc/video/video_stream_buffer_controller_gn/moz.build
@@ -152,6 +152,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/video_stream_encoder_impl_gn/moz.build b/third_party/libwebrtc/video/video_stream_encoder_impl_gn/moz.build
index 7719614925..f971adeadf 100644
--- a/third_party/libwebrtc/video/video_stream_encoder_impl_gn/moz.build
+++ b/third_party/libwebrtc/video/video_stream_encoder_impl_gn/moz.build
@@ -160,6 +160,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/video/video_stream_encoder_interface_gn/moz.build b/third_party/libwebrtc/video/video_stream_encoder_interface_gn/moz.build
index 1159fe744e..5d1297f9aa 100644
--- a/third_party/libwebrtc/video/video_stream_encoder_interface_gn/moz.build
+++ b/third_party/libwebrtc/video/video_stream_encoder_interface_gn/moz.build
@@ -139,6 +139,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
diff --git a/third_party/libwebrtc/webrtc_gn/moz.build b/third_party/libwebrtc/webrtc_gn/moz.build
index 2fa347ecce..affa5998b6 100644
--- a/third_party/libwebrtc/webrtc_gn/moz.build
+++ b/third_party/libwebrtc/webrtc_gn/moz.build
@@ -167,6 +167,10 @@ if CONFIG["TARGET_CPU"] == "arm":
     DEFINES["WEBRTC_ARCH_ARM_V7"] = True
     DEFINES["WEBRTC_HAS_NEON"] = True
 
+if CONFIG["TARGET_CPU"] == "loongarch64":
+
+    DEFINES["_GNU_SOURCE"] = True
+
 if CONFIG["TARGET_CPU"] == "mips32":
 
     DEFINES["MIPS32_LE"] = True
-- 
2.48.1

